<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE config SYSTEM "file://configuration.dtd">
<!--  "$Id$" -->
<!-- configuration for INMan v0.8.0 or higher -->
<config>
  <param name="version" type="string">0.8.0</param>   <!-- config version -->

  <section name="Services">
    <param name="Host" type="string">uid: icsTCPServer</param> <!--  -->
    <!-- SMS/USSD messages charging -->
    <param name="Billing" type="string">uid: icsSmBilling</param> <!-- dll: libinman_ics_smbill.so -->
    <!-- Abonent contract type and gsmSCF params determination -->
    <param name="AbonentDetector" type="string">uid: icsAbntDetector</param> <!-- dll: libinman_ics_abdtcr.so -->
  </section>

  <section name="Files"> <!-- defines extra configuration files,
  containing top level sections with specified section name prefixes.
  format: 
   <param name="SectionName_prefix" type="string">File_name</param>

  SectionName_prefix may contain a substitute symbols:
   '?' - at any position in mask, substitutes single any symbol
   '*' - at last position in mask, substitutes [0..N] any symbols
  -->
    <param name="AbonentPolicies" type="string">config.policies.xml</param>
    <param name="AbonentProviders" type="string">config.policies.xml</param>
    <param name="IN-platforms" type="string">config.ins.xml</param>
    <param name="TCAPUser*" type="string">config.ss7.xml</param>
    <param name="SS7*" type="string">config.ss7.xml</param>
    <param name="SMSExtra" type="string">config.smsx.xml</param>
  </section>

  <section name="Host">
    <param name="host" type="string">@inman.host@</param>  <!-- InMan service host -->
    <param name="port" type="int">@inman.port@</param>        <!-- InMan service port -->
    <param name="maxClients" type="int">3</param>       <!--  max allowed INMan client connections, default: 3 -->
  </section>

  <section name="AbonentDetector"> <!-- Abonent contract type and gsmSCF params determination -->
    <param name="abonentPolicy" type="string">MTC_Default</param> <!-- 
      default abonent contract determination policy (defined in 'AbonentPolicies'
      section), it's used if abonent ISDN address doesn't belong to any of
      address pools specified in 'AbonentPolicies' section.
     -->
    <param name="maxRequests" type="int">500</param>   <!--  [1 .. 100000] , default 1000 
     maximium number of simultaneous requests per client  connection ,
     0 - means use default value-->
    <param name="abonentTypeTimeout" type="int">8</param> <!-- units: seconds, [1 .. 65535],
    maximum allowed time for determining abonent contract type,   default 8
     -->
    <!-- OPTIONAL PARAMETERS follow:: -->
    <param name="useCache" type="bool">true</param>    <!--
    switches abonents cache usage, default: true  -->
    <param name="cacheExpiration" type="int">20</param>   <!--
     abonent info cache data expiration interval, units: minutes, [1 .. 65535], default 20,
     0 - means the default cache  interval is used -->
  </section>

  <section name="Billing">   <!-- SMS/USSD messages charging -->
   <section name="BillingModes"> <!--
     Sets billing mode depending on message type. The following types are
     recognized:
        SMS  : ordinary SMS message,
        USSD : ordinary USSD message,
        XSMS : SMS Extra message.
     For each message type the following modes may be assigned either for
     MO or MT billing:
        OFF : billing is forbidden (default),
        CDR : perform billing by generating CDR,
        IN  : perform billing by interacting the IN point, in case
              of failure follow the secondary mode.
     -->
    <section name="SMS"> <!-- ordinary SMS message -->
      <param name="MO" type="string"> OFF </param>
      <param name="MT" type="string">IN, CDR</param>
    </section>
    <section name="USSD"> <!-- ordinary USSD message -->
      <param name="MO" type="string">IN, CDR</param>
      <param name="MT" type="string">IN, CDR</param>
    </section>
    <section name="XSMS"> <!-- SMS Extra message -->
      <param name="MO" type="string">IN, OFF</param>
      <param name="MT" type="string">IN, OFF</param>
    </section>
   </section>

    <param name="abonentTypeRequest" type="string">onDemand</param> <!-- [onDemand, always]
    mode of abonent contract type determination (request to AbonentProvider)
    onDemand : determine only if required for billing, default
    always   : always determine
    -->
    <param name="abonentPolicy" type="string">MTC_Default</param> <!-- 
      default abonent contract determination policy (defined in 'AbonentPolicies'
      section), it's used if abonent ISDN address doesn't belong to any of
      address pools specified in 'AbonentPolicies' section.
     -->
    <param name="abonentTypeTimeout" type="int">8</param> <!-- units: seconds, [1 .. 65535],
    maximum allowed time for determining abonent contract type,  default 8
     billing continues on its expiration in CDR mode
     -->
    <param name="maxBillings" type="int">200</param>   <!--  [1 .. 100000] , default 1000 
     maximium simultaneous billing requests per INMan client  connect,
     0 - means use default value-->
    <param name="maxTimeout" type="int">30</param>  <!--
     units: seconds [5 .. 65535], default 120, 
    maximum allowed value for billing suspending time (SMSC/IAProvider interaction, etc),
    billing aborts on its expiration.
    NOTE: setting timeout to less then default value may cause unpredicted behavior!!!
     -->
    <param name="cdrDir" type="string">./cdrs</param>  <!-- directory to store CDRs -->
    <param name="cdrInterval" type="int">120</param>   <!-- CDR storage rolling interval, units: seconds -->
    <param name="cdrMode" type="string">billMode</param> <!-- 
      options: [none, all, billMode]
      none:   don't write any CDR at all;
      all:    always write CDR for each transaction perfomed;
      billMode: write CDR according to billMode setting (default)
    -->
    <!-- OPTIONAL PARAMETERS follow:: -->
    <param name="useCache" type="bool">true</param>    <!--
    switches abonents cache usage, default: true  -->
    <param name="cacheExpiration" type="int">10</param>   <!--
     abonent info cache data expiration interval, units: minutes, [1 .. 65535], default 20,
     0 - means the default cache  interval is used
    -->
    <param name="CAP3Sms" type="string">TCAPUserCAP</param>  <!--
    section name for TCAP user configuration CAP3Sms uses, defualt: TCAPUser
    -->
    <param name="smsExtraConfig" type="string">SMSExtra</param> <!--
     name of section describing extra SMS services -->
  </section>

  <section name="AbonentsCache">
    <param name="cacheExpiration" type="int">20</param>   <!-- default abonent
    cache data expiration interval, units: minutes, [1 .. 65535], default 20 -->
    <param name="cacheRAM" type="int">40</param>   <!-- abonents cache RAM buffer size, units: Mb -->
    <param name="cacheDir" type="string">./cache</param>  <!-- directory to store abonents cache -->
    <!-- OPTIONAL PARAMETERS follow:: -->
    <param name="cacheRecords" type="int">1</param>  <!-- initial number of cache file records, 
     units: abonents :) , default: 10000 -->
  </section>

</config>

