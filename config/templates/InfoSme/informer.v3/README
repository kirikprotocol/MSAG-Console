1. Preliminary per-task Activity.log format description.
Activity.log is a human-readable (text) file containing
one line per message state change. The lines are separated
by a single linefeed.

The first string is in form
#VERSION FIELDNAME1,FIELDNAME2,...
where VERSION is an int32 [1..] of the file format version
and FIELDNAMExx are field names.

Each line of the file version=1 contains the following fields:
STATE,MSGID,SUBSCRIBER,LASTTIME,TTL,SMPP,USERDATA,TEXT
where they are:
STATE - one-letter state: 'N' -- new, 'D' -- delivered,
     'E' -- expired, 'F' -- failed;
MSGID - uint64 [1..]: unique (per-task) message id;
SUBSCRIBER - subscriber number, valid forms are:
  .1.1.NUMBER, +NUMBER, NUMBER.
LASTTIME - uint32: absolute time(2) in seconds of the message state change;
TTL - int32: number of seconds until message expiration;
SMPP - int32: smpp error code or 0;
USERDATA - ASCII-string: up to 23 bytes, should not contain
  special chars and comma, enclosed in quotes;
TEXT - UTF8-string with the following chars escaped:
  linefeed -> \n, backslash -> \\, quote -> "".

Example:
#1 STATE,MSGID,SUBSCRIBER,LASTTIME,TTL,SMPP,USERDATA,TEXT
D,556,+79131234567,1285303430,600,0,"msg0x778","Weather forecast:\n""rain"""
