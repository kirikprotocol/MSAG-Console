Build 1612
Fix: В случае USSD запроса, при невозможности получить Imsi абонента 
     ответ на телефон шел как на MO SMS, теперь отвечает 
     ProcessUsnstructuredSSReqeustResp c ошибкой 34 (system failure).
New: Склейка SMS содежащих SMPP SAR параметры.
New: Вырезается UDH содержащее src port и dst port в соответсвующие SMPP
     параметры. При отправке на MAP вставляются обратно. 
     Убирает проблему с выставленными в SMPP портами и продублированными в UDH.
New: Добавлен выбор библиотеки логирования. 
     Теперь при "make LOG4CPP=YES" собирается с использованием log4cpp, 
     без LOG4CPP=YES - с использованием log4cplus.
New: Добавлен новый layout для log4cplus - smsc::logger::SmscLayout

Build 1613
Fix: Убрана попытка достаки в транзакционном режиме. Проблемы с SMPP клиентами 
     с маленькими таймаутами и синхронной отправкой при посылке абонентам.

Build 1614
Fix: OCIDataSource memory leak в createRoutine
Fix: Admin interface. Не очищались сообщения об ошибках в сессионных бинах.
Fix: Длина SubmitResp с ошибочным статусом на 2 больше чем полагается.

Build 1615
Fix: Memory leak при ошибочном submit в транзакционном режиме.
Fix: Ненужная попытка changeStateToUndeliverable в транзакционном режиме.
New: Кэширование prepared statements в dbSme.

Build 1616
Fix: Новый логер, повышена производительность логирования в 3 раза
Fix: Потеря map диалогов при отработке notifyHLR.
Fix: Возможное падение при длительном применении конфигов в performance monitor.
Fix: Неправильный учет статистики при forward режиме и не успешного Submit.
Fix: Правильная отработка USSD ответов от SME даже в случае прихода SubmitResp после Deliver
New: Добавлены размеры очередей в монитор производительности.
New: Компиляция под Sun C++ compiler 5.5.
Fix: ResultSet leak fixed in admin interface (SmsStat.java)
Fix: Не работал proclimit на MAP_PROXY
New: Динамическое изменение параметра proclimit для SME.
Upd: Детальная расшифровка duplicate routes.
Upd: Таймаут ожидания Submit Resp по умолчанию 2 мин. Асинхорнные не регистрируются.
New: Опция hide на маршруте. Если выключить не будет производиться скрытие адреса.
New: Опция force reply. Форсирует Reply Path бит при отправке сообщения на телефон.
New: Контроль трафика в infosme
Fix: InfoSme: Неправильно показывался статус задачи, не всегда корректно делался Enable/Disable.
New: Двоеточие и цифра в schedule означает количество попыток с заданным временем, 
     необходимо использовать :* в конце - будет доставлять до истечения срока,
     через заданный последним промежуток.
Fix: Правильная идентификация ошибок PAbort
Fix: Форсирование forward mode для sms содержащих USSD операцию, 
     тем самым снижена нагрузка на базу.
New: Поле notes в маршрутах и субъектах.
New: SMPP PDU dump. Включается из админ. интерфейса - 
     надо выставить DEBUG категории sd.name 
     где name это systemid желаемой SME.

Build 1617
Fix: Неправильный код опционального поля receiptedMessageId в SMPP
Fix: Имя локали в profiler не переводилось в lower case 
New: SMPP PDU dump в SMPP base (клиентская реализация SMPP). Категория логирования: sd
Fix: core dump при останове DBSme, SocketListener делал попытку 
     логирования после деинициализации.
New: Блокировка одновременной попытки открытия нескольких USSD сессий.
Fix: Не правильная стаистика в случае forward mode и временной ошибки (появилось 1616).
Fix: InfoSme: сортировка по времени доставки, была по иду.
Fix: InfoSme: корректное очищение статусов сообщений при изменении таски.
Fix: InfoSme: Увеличена чуствительность таймслота в traffic control.
Fix: InfoSme: Правильная обработка респонсов в случае ошибки и истечения времени жизни.

Build 1617 - hotfix 1
Fix: Не был проинициализирован флаг isQueryAbonentStatus в MapDialog, 
     что могло приводить к падению SMSC при попытке создания 
     network initiated USSD session
Fix: Не было проверки на нулевые значения в USSDRequestConf, что могло 
     приводить к падению в случае пустого ответа на USSD запрос на некоторых
     моделях телефонов.
Fix: Закрытие USSD сессии иницированной с сети должно производиться 
     ProcessUSSDRequestResp с тем же invokeId что был получен в
     ProcessUSSDRequestInd

Build 1617 - hotfix 2
Fix: Не инициализровано поле divertActive в default profile
Fix: Не делалась проверка на NULL поле взятое из базы при загрузке профилей
     при старте, поэтому возможно было заполнение полей divert to в профилях
     значением взятым от предыдущего профиля.

Build 1617 - hotfix 3
Fix: InfoSme: изменен порядок инициализации, сначала пытается создать 
     admin socket, затем инициализирует таски, защита от запуска второй копии.
Fix: Систематизирована обработка ошибок в MAP_PROXY, создана функция мапинга
     кода ошибки в статус (временная или постоянная)
Fix: InfoSme использует функцию мапинга кодов ошибок.
Fix: Код 1157 "Unidentified subscriber" переведен в статус временных.

Build 1618
New: Новая система архивирования, архивы складываются в отдельные файлы по дням.
New: Переход на xerces v2.4.0
New: Опция USSD7Bit в профиле абонента.

Build 1619
Chg: Опция USSD7Bit сделана не зависимой от настроек кодировки SMS сообщений.
New: Опция USSD7Bit добавлена в профиль по умолчанию.
Fix: Сделано кэширование iconv хандлеров, iconv иногда не открывался если 
     делать частые open/close.
Fix: Memory leak при ошибке открытия iconv
Fix: Admin: Profile lookup исправлен под USSD7Bit

Build 1620
Fix: Ошибка приема MO сообщений 3 версии.
Fix: Медленная итерация по XML дереву.
Chg: Более детальное логирование в случае невозможности десериализовать SMPP pdu
Fix: Возможный SIGBUS в библиотеке Regexp на Sparc архитектуре.
New: Правильный показ UDH и текста во всех частях собранного 
     (не полностью текстового) сообщения.
New: Не выставлялся признак UDH в базе для собранных сообщений содержащих 
     UDH в частях, необходимо для правильного отображения в админ интерфейсе.

Build 1621
Fix: Start/stop daemon не дожидался штатного останова сервисов, в случае 
     если сервис запущен из под скрипта, иногда убивался скрипт а сервис 
     оставался.

Build 1700
Fix: SC Timestamp в MT сообщении был текущим временем а должен быть временем 
     приема сообщения сервис центром.
Fix: SC Timestamp в Status Report был текущим временем а должен быть временем 
     приема сообщения, на которое создан отчет, сервис центром.
Fix: Лимиты на MAP прокси теперь считаются в момент попытки создания диалога.
     Т.е. те команды которые относятся к уже открытым диалогам не будут 
     отвергнуты.
Fix: Возможен сброс блокировки исходящих сообщений, с одновременным закрытием
     USSD сессии инициированной из сети. Что могло приводить к длительной 
     доставке длинных сообщений.
Fix: Была возможна не синхронизованная модификация пула диалогов.
New: Сделан лимит на входящие MAP диалоги.
New: Условная переадресация по причинам absent subscriber, memory capacity,
     call barred, teleservice not provisioned
New: Опция concat on/off профайлера, при выключении не создается UDH с с тагом 
     конкатенации и в тело сообщения вставляется информация о том какая это 
     часть из длинного сообщения
New: Lookup в профиле в админ консоли сначала делает деалиасинг, 
     затем ищет профиль, и ищет для него алиас с hide флагом.
Fix: Исправлен формат просмотра профиля в административной консоли.
Fix: Ускорена загрузка профилей на старте в несколько раз.

Build 1701
Fix: Неправильная установка MR в некоторых случаях, что приводило к неправильной 
     доставке длинных сообщений на телефон.
Fix: Ускорена загрузка SMS на повторную доставку при старте.

Build 1702
Chg: MAP UAbort причины выделены в отдедьную группу MUR.
Chg: MAP: Mistyped parameter переведен в разряд времнных ошибок. Есть 
     подозрение что эта ошибка может иногда возникать на диалогах с MMS.
Fix: Не выставлялось значение UDH concat опции профиля при отправке отчета.
Chg: Добавлена команда divert status, по USSD посылается короткое сообщение,
     и полный статус по SMS.

Build 1703
New: Архивер теперь создает текстовые файлы для длительного хранения.
New: Лимит максимальной производительности InfoSme
New: Возможность не удаления обработанных сообщений в тасках InfoSme. 
     Позже будет сделан интерфейс для просмотра и форсирования передоставки
     сообщений.

Build 1704
Chg: Теперь не будет открываться USSD сессия иницированная сервисом если в SMS 
     содердится MR а диалога нет.
Fix: USSD могли ходить в datagram режиме, должны в forward
Fix: Если происходил таймаут на таске в forward режиме не слался submit resp
Fix: Не правильно формировалось сообщение с divert status
New: Sme monitor, позволяет отслеживать активность sme.
Fix: Ошибка в rehash в архиваторе
Fix: Не игнорировались ошибки вытаскивания текста сообщения в архиваторе
Add: Добавлен dealiased dest address (ddest) в темплейт отчетов о доставке
Chg: Если SendRInfo возвращает Call Barred и IMSI и MSC, сообщение будет 
     принято и доставлено
Fix: Не проверялась правильность UDH при попытке склевания SMS.
Fix: Не проверялось наличие сокета при попытке getPeers

Build 1705
New: InfoSme: добавлены дни недели в период активности.
New: InfoSme: Сделано сохранение сообщений при финализации.
New: InfoSme: Сделан просмотр сообщений, удаление, передоставка.
Fix: Если не удавалось проинициализировать серверный сокет, был leak сокета.
Fix: Если включены условная и безусловная переадресация неправильно доставлялись 
     длинные сообщения
Fix: Создавались иницированные USSD сессии если SME отсылала сообщение с MR 
     сессия которого уже завершена. В случае неправильно написанного сервиса это 
     приводило к бесконечному циклу открытий сессий.
Fix: Могли закрываться правильные USSD сессии при посылке неправильного MR.
Fix: Возможное падение сервис центра при bind и max sms throughput = 0

Build 1706
New: Введены параметры busyMTDelay (время на сколько решедулить сообщение 
     если на абонента отправляется другое длинное сообщение), lockedByMODelay 
     (на сколько откладывать сообщение если SC принимает длинное сообщение 
     от абонента), MOLockTimeout (сколько ожидать приема всех частей длинного 
     сообщения от абонента)
New: Locked by MO выделено в отдельный код ошибки (был Subscriber Busy MT)
Chg: forceReplayPath заменен на replayPath с тремя опциями: pass (пропускать 
     как есть, значение по умолчанию), force (выставить бит в сообщении на 
     абонента), suppress (не выставлять бит)
Chg: Введена опция forceDelivery, если указано true сообщение на абонента 
     будет пытать доставляться даже в том случае если HLR вернет absent 
     subscriber или SM delivery failure, иначе попытка ForwardMT будет делать 
     каждую четвертую попытку доставки.
New: InfoSme: возможность транслитерации шаблона при записи таски.
New: Списки доступа на маршрутах. Можно завести ACL, навесить его на маршрут,
     добавить абонентов в список...
Fix: Длинные сообщения от абонентов которы перенаправляются на другой SMSC 
     теперь будут собираться полностью, затем доставляться. Это исправило 
     проблему с одинковыми идентификаторами при финализации таких сообщений, 
     также теперь эти сообщения будут содержать все PDU при просмотре 
     через SMS View.
New: ArchiveDaemon: Сделано кэширование индексов за текущий день, индексация 
     в транзакции, паралельное исполнение Query, запрос результатов без 
     подсчета общего количества (существенно ускоряет время обработки запроса)
New: Добавленны опциональные SMPP поля (необходимо указать 
     Interface Version=9.9 в редактировании SME для включения их посылки):
     0x4100 - supported locale (язык из профиля абонента en_us, ru_ru...)
     0x4101 - supported codeset (кодировка из профиля абонента)
     0x4102 - imsi_address
     0x4103 - msc_address
Fix: Посылался промежуточный отчет даже если был в профиле report final
Fix: Промежуточные отчеты будут посылаться только в текстовом виде.
New: Поддержка случая когда в длинном сообщении не каждый кусок содержит SRR.
Chg: Оптимизирован сбор стаистики для Sme monitor.
New: Оригинальный USSD datacoding в CBS формате теперь сохраняется в 
     SMSC_ORIGINAL_DC, для упрощения разбирательств со странными телефонами.
New: Admin: сделана специальная роль позволяющая сотановливать и запускать 
     сервисы, но не редактировать их.
Fix: tomcat не завершался через stop_tomcat.sh из-за не выхода из треда topmon.

Build 1707
New: MCISme: добавлены шаблоны сообщений
New: MCISme: добавлена возможность настраивать коды причин при освобождении
     канала (CIC)
New: DBSme: добавлен forceDatacoding
Fix: Оптимизировано кодирование/декодирование SMPP
New: Поддержка USSD сессий если абонент заблокирован (CallBarred), возможность
     включается опцией Allow Call Barred в секции MAP конфигурации центра, 
     также для прохода таких сообщений по маршруту, необходимо включить 
     allow blocked на маршруте.
Fix: Оптимизирована работа с кэшем MR для длинных сообщений
Fix: Оптимизирована выборка SMS в главном цикле.
Fix: Делалась попытка getSmeInfo в маршрутизаторе даже если логирование не 
     было включено
Fix: Оптимизирован код traffic control.
Chg: WebAdmin: новая версия библиотеки логирования.

Build 1708
New: Infosme: можно задавать номер на таску от которого будет делаться рассылка.
Chg: Оптимизирована выборка SMS в главном цикле.
Chg: WebAdmin: Оптимизирован запрос статистики.
