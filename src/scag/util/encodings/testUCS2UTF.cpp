#include <stdio.h>
#include "Encodings.h"

static const char testbuf[] = {
0x0,
0x30,
0x0,
0x33,
0x0,
0x2e,
0x0,
0x30,
0x0,
0x36,
0x0,
0x20,
0x4,
0x22,
0x4,
0x35,
0x4,
0x3c,
0x4,
0x3f,
0x0,
0x2e,
0x0,
0x20,
0x4,
0x3d,
0x4,
0x3e,
0x4,
0x47,
0x4,
0x4c,
0x0,
0x3a,
0x0,
0x20,
0x0,
0x39,
0x0,
0x2e,
0x0,
0x2e,
0x0,
0x31,
0x0,
0x32,
0x0,
0x2c,
0x0,
0x20,
0x4,
0x34,
0x4,
0x35,
0x4,
0x3d,
0x4,
0x4c,
0x0,
0x3a,
0x0,
0x20,
0x0,
0x31,
0x0,
0x35,
0x0,
0x2e,
0x0,
0x2e,
0x0,
0x31,
0x0,
0x36,
0x0,
0x2c,
0x0,
0x20,
0x4,
0x4f,
0x4,
0x41,
0x4,
0x3d,
0x4,
0x3e,
0x0,
0xa,
0x0,
0x30,
0x0,
0x34,
0x0,
0x2e,
0x0,
0x30,
0x0,
0x36,
0x0,
0x20,
0x4,
0x22,
0x4,
0x35,
0x4,
0x3c,
0x4,
0x3f,
0x0,
0x2e,
0x0,
0x20,
0x4,
0x3d,
0x4,
0x3e,
0x4,
0x47,
0x4,
0x4c,
0x0,
0x3a,
0x0,
0x20,
0x0,
0x31,
0x0,
0x30,
0x0,
0x2e,
0x0,
0x2e,
0x0,
0x31,
0x0,
0x32,
0x0,
0x2c,
0x0,
0x20,
0x4,
0x34,
0x4,
0x35,
0x4,
0x3d,
0x4,
0x4c,
0x0,
0x3a,
0x0,
0x20,
0x0,
0x31,
0x0,
0x36,
0x0,
0x2e,
0x0,
0x2e,
0x0,
0x31,
0x0,
0x37,
0x0,
0x2c,
0x0,
0x20,
0x4,
0x4f,
0x4,
0x41,
0x4,
0x3d,
0x4,
0x3e,
0x0,
0xa,
0x0,
0x30,
0x0,
0x35,
0x0,
0x2e,
0x0,
0x30,
0x0,
0x36,
0x0,
0x20,
0x4,
0x22,
0x4,
0x35,
0x4,
0x3c,
0x4,
0x3f,
0x0,
0x2e,
0x0,
0x20,
0x4,
0x3d,
0x4,
0x3e,
0x4,
0x47,
0x4,
0x4c,
0x0,
0x3a,
0x0,
0x20,
0x0,
0x31,
0x0,
0x31,
0x0,
0x2e,
0x0,
0x2e,
0x0,
0x31,
0x0,
0x32,
0x0,
0x2c,
0x0,
0x20,
0x4,
0x34,
0x4,
0x35,
0x4,
0x3d,
0x4,
0x4c,
0x0,
0x3a,
0x0,
0x20,
0x0,
0x31,
0x0,
0x33,
0x0,
0x2e,
0x0,
0x2e,
0x0,
0x31,
0x0,
0x34,
0x0,
0x2c,
0x0,
0x20,
0x4,
0x4f,
0x4,
0x41,
0x4,
0x3d,
0x4,
0x3e,
0x0,
0xa
};

std::string getMessageBody()
{
    printf("sizeof(buf)=%u\n",unsigned(sizeof(testbuf)));
    const char* buff = testbuf;
    unsigned len = sizeof(testbuf);
    std::string str;
    scag2::util::encodings::Convertor::UCS2BEToUTF8((unsigned short*)buff,len/2,str);
    return str;
}

int main()
{
    const std::string str = getMessageBody();
    printf("str=%s\n",str.c_str());
    return 0;
}
