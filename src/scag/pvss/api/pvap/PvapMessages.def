include types.def

// NOTE: it is not necessary to have unique tags for fields of distinguished messages
// but I consider this highly comfortable.

message PC_ERR_RESP // 0x8000
    version 2.0
    property inheritsFrom="ErrorResponse"
    utf8 statusMessage 41
    byte status 1
end

message PC_PING       // 0x0006
    version 2.0
    property inheritsFrom="PingRequest"
end

message PC_PING_RESP  // 0x8006
    version 2.0
    property inheritsFrom="PingResponse"
    byte status 1
end

message PC_AUTH       // 0x000a
    version 2.0
    property inheritsFrom="AuthRequest"
    byte   protocolVersion 31
    ascii  login           32
    ascii  password        33
    ascii  name            34
end

message PC_AUTH_RESP  // 0x800a
    version 2.0
    property inheritsFrom="AuthResponse"
    byte status 1
    byte   clientType  35 opt
    byte   sid         36 opt
end

message PC_PROFILE    // 0x0010
    version 2.0
    property inheritsFrom="ProfileRequest"
    byte   profileType 2 transient
    ascii  abonentKey  3 opt checkVar="profileType" checkVal=0x01 profile
    uint32 operatorKey 4 opt checkVar="profileType" checkVal=0x02 profile
    uint32 providerKey 5 opt checkVar="profileType" checkVal=0x03 profile
    uint32 serviceKey  6 opt checkVar="profileType" checkVal=0x04 profile
    ProfileCommand profileCommand 40 helperClass="ProfileCommandFiller"
end

message PC_PROFILE_RESP // 0x8010
    version 2.0
    property inheritsFrom="ProfileResponse"
    ProfileCommand commandResponse 40 helperClass="ProfileResponseFiller"
end
