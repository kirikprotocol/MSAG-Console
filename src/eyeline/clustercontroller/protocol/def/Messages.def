include Types.def

message Response
  property innerMessage=true
  int32 status 1
end

message MultiResponse
  property innerMessage=true
  int32 status 1 array
  byte ids 2 array
end

message ApplyRoutes 1
end

message ApplyRoutesResp 1001
  MultiResponse resp 1
end

message ApplyReschedule 2
end

message ApplyRescheduleResp 1002
  MultiResponse resp 1
end

message ApplyLocaleResource 3
end


message ApplyLocaleResourceResp 1003
  MultiResponse resp 1
end

message ApplyTimeZones 4
end

message ApplyTimeZonesResp 1004
  MultiResponse resp 1
end

message ApplyFraudControl 5
end

message ApplyFraudControlResp 1005
  MultiResponse resp 1
end

message ApplyMapLimits 6
end


message ApplyMapLimitsResp 1006
  MultiResponse resp 1
end

message ApplyNetProfiles 43
end


message ApplyNetProfilesResp 1043
  MultiResponse resp 1
end


message ApplySnmp 7
end


message ApplySnmpResp 1007
  MultiResponse resp 1
end

message CheckRoutes 9
  string fileName 1
end

message CheckRoutesResp 1009
  Response resp 1
  string result 2 array opt
end

message TraceRoute 8
  string dst 1
  string src 2
  string srcSysId 3
  string fileName 4
end

message TraceRouteResp 1008
  Response resp 1
  bool found 2
  string routeId 3 opt
  string trace 4 array opt
  string aliasInfo 5 opt 
end

enum byte ReportOptions
  ReportNone 0
  ReportFull 1
  ReportFinal 2
end

enum byte ProfileCharset
  Default 0
  Latin1  1
  Ucs2    8
  Ucs2AndLatin1 9
  UssdIn7BitFlag 0x80
end

enum byte HideOptions
  HideDisabled 0
  HideEnabled 1
  HideSubstitute 2
end

message Profile
  property innerMessage=true
  string divert 1
  string locale 2
  byte codepage 3
  ReportOptions reportOptions 4
  HideOptions hide 5
  bool hideModifiable 6
  bool divertActive 7
  bool divertActiveAbsent 8
  bool divertActiveBlocked 9
  bool divertActiveBarred 10
  bool divertActiveCapacity 11
  bool divertModifiable 12
  bool udhConcat 13
  bool translit 14
  int32 closedGroupId 15
  int32 accessMaskIn 16
  int32 accessMaskOut 17
  int32 subscription 18 opt
  byte sponsored 19 opt
  string nick 20 opt
end


message LookupProfile 11
  string address 1
end

enum byte ProfileMatchType
  Default 0
  Mask 1
  Exact 2
end

message LookupProfileResp 1011
  Response resp 1
  ProfileMatchType matchType 2
  Profile prof 3
end

message UpdateProfile 12
  string address 1
  Profile prof 2
end

message UpdateProfileResp 1012
  MultiResponse resp 1
end

message UpdateProfileAbnt 13
  string address 1
  Profile prof 2
end


message UpdateProfileAbntResp 1013
  Response resp 1
end

message DeleteProfile 14
  string address 1
end

message DeleteProfileResp 1014
  MultiResponse resp 1
end

message CancelSms 15
  string ids 1 array
  string srcs 2 array
  string dsts 3 array
end

message CancelSmsResp 1015
  MultiResponse resp 1
end

message MscAdd 16
  string msc 1
end

message MscAddResp 1016
  MultiResponse resp 1
end

message MscRemove 17
  string msc 1
end

message MscRemoveResp 1017
  MultiResponse resp 1
end

enum byte SmeBindMode
  modeTx 0
  modeRx 1
  modeTrx 2
  modeUnknown 3
end

message SmeParams
  property innerMessage=true
  string id 1
  int32 priority 2
  string systemType 6
  string password 7
  string addrRange 8
  int32 smeN 9
  bool wantAlias 10
  bool disabled 14
  int32 timeout 12
  string receiptScheme 13
  SmeBindMode mode 15
  int32 procLimit 16
  int32 schedLimit 17
  int32 accessMask 18
  bool flagCarryOrgDescriptor 19
  bool flagCarryOrgAbonentInfo 20
  bool flagCarrySccpInfo 21
  bool flagFillExtraDescriptor 22
  bool flagForceReceiptToSme 23
  bool flagForceGsmDatacoding 24
  bool flagSmppPlus 25
end

message SmeAdd 18
  SmeParams params 1
end

message SmeAddResp 1018
  MultiResponse resp 1
end

message SmeUpdate 19
  SmeParams params 1
end

message SmeUpdateResp 1019
  MultiResponse resp 1
end

message SmeRemove 20
  string smeId 1
end

message SmeRemoveResp 1020
  MultiResponse resp 1
end

message SmeStatus 21
end

enum byte SmeConnectType
  loadBalancer 1
  directConnect 2
end

enum byte SmeStatusType
  disconnected 1
  bound 2
  internal 3
  unknown 4
end

message SmeConnectStatus
  property innerMessage=true
  SmeStatusType status 1
  SmeBindMode bindMode 2 opt
  string peerIn 3 opt
  string peerOut 4 opt
  byte nodeIdx 5
end

message SmeStatusInfo
  property innerMessage=true
  string systemId 1
  SmeConnectType connType 2 opt
  SmeConnectStatus status 3 array
end

message SmeStatusResp 1021
  Response resp 1
  SmeStatusInfo status 2 array
end

message SmeDisconnect 22
  string sysIds 1 array
end

message SmeDisconnectResp 1022
  MultiResponse resp 1
end

message LoggerGetCategories 23
end

message CategoryInfo
  property innerMessage=true
  string name 1
  string level 2
end

message LoggerGetCategoriesResp 1023
  Response resp 1
  CategoryInfo categories 2 array opt
end

message LoggerSetCategories 24
  CategoryInfo categories 1 array
end

message LoggerSetCategoriesResp 1024
  Response resp 1
end

message AclGet 25
  int32 aclId 1
end

message AclInfo
  property innerMessage=true
  int32 id 1
  string name 2
  string description 3
end

message AclGetResp 1025
  Response resp 1
  AclInfo acl 2 opt
end

message AclList 26
end

message AclListResp 1026
  Response resp 1
  AclInfo aclList 2 array opt
end

message AclRemove 27
  int32 aclId 1
end

message AclRemoveResp 1027
  MultiResponse resp 1
end

message AclCreate 28
  int32 id 5 opt
  string name 1
  string description 2
  string addresses 4 array
end

message AclCreateResp 1028
  MultiResponse resp 1
end

message AclUpdate 29
  AclInfo acl 1
end

message AclUpdateResp 1029
  MultiResponse resp 1
end

message AclLookup 30
  int32 aclId 1
  string addrPrefix 2
end

message AclLookupResp 1030
  Response resp 1
  string result 2 array
end

message AclRemoveAddresses 31
  int32 aclId 1
  string addrs 2 array
end

message AclRemoveAddressesResp 1031
  MultiResponse resp 1
end

message AclAddAddresses 32
  int32 aclId 1
  string addrs 2 array
end

message AclAddAddressesResp 1032
  MultiResponse resp 1
end


message CgmAddGroup 33
  int32 id 1
  string name 2
end

message CgmAddGroupResp 1033
  MultiResponse resp 1
end

message CgmDeleteGroup 34
  int32 id 1
end

message CgmDeleteGroupResp 1034
  MultiResponse resp 1
end

message CgmAddAddr 35
  int32 id 1
  string addr 2
end

message CgmAddAddrResp 1035
  MultiResponse resp 1
end

message CgmCheck 36
  int32 id 1
  string addr 2
end

message CgmCheckResp 1036
  Response resp 1
  bool result 2
end

message CgmDelAddr 37
  int32 id 1
  string addr 2
end

message CgmDelAddrResp 1037
  MultiResponse resp 1
end

message CgmAddAbonent 38
  int32 id 1
  string addr 2
end

message CgmAddAbonentResp 1038
  MultiResponse resp 1
end

message CgmDelAbonent 39
  int32 id 1
  string addr 2
end

message CgmDelAbonentResp 1039
  MultiResponse resp 1
end

message CgmListAbonents 40
  int32 id 1
end

message CgmListAbonentsResp 1040
  Response resp 1
  string result 2 array
end

message AliasAdd 41
  string addr 1
  string alias 2
  bool hide 3
end

message AliasAddResp 1041
  MultiResponse resp 1
end

message AliasDel 42
  string alias 1
end

message AliasDelResp 1042
  MultiResponse resp 1
end

message GetServicesStatus 101
end

message ServiceStatus 
  property innerMessage=true
  string serviceName 1
  string peerAddress 2 array
  SmeBindMode bindMode 3
  byte boundSmsc 4 array
end

message GetServicesStatusResp 1101
  Response resp 1
  ServiceStatus status 2 array
end

message DisconnectService 102
  string serviceId 1
end

message DisconnectServiceResp 1102
  Response resp 1
end

enum byte ConfigType
  MainConfig 0
  Profiles 1
  Msc 2
  Routes 3
  Sme 4
  ClosedGroups 5
  Aliases 6
  MapLimits 7
  Resources 8
  Reschedule 9
  Snmp 10
  TimeZones 11
  Fraud 12
  Acl 13
  NetProfiles 14
end

message LockConfig 201
  ConfigType configType 1
  bool writeLock 2
end

message LockConfigResp 1201
  Response resp 1
end

message UnlockConfig 202
  ConfigType configType 1
end

message RegisterAsLoadBalancer 301
  int32 magic 1
end

message RegisterAsWebapp 302
  int32 magic 1
end

message RegisterAsSmsc 303
  int32 magic 1
  byte nodeIndex 2
  int64 configUpdateTimes 3 array
end

message GetConfigsState 203
end

message GetSmscConfigsState 204
end

message SmscConfigsState
  property innerMessage=true
  byte nodeIdex 1
  int64 updateTime 2 array
end

message GetSmscConfigsStateResp 1205
  Response resp 1
  SmscConfigsState state 2
end 

message GetConfigsStateResp 1203
  Response resp 1
  int64 ccConfigUpdateTime 2 array
  SmscConfigsState smscConfigs 3 array opt
end
