DROP TABLE SMS_MSG;
CREATE TABLE SMS_MSG
(  
   ID             RAW(8)      NOT NULL,
   ST             NUMBER(3)   NOT NULL,
   SUBMIT_TIME    DATE        NOT NULL,   
   VALID_TIME     DATE        NOT NULL,
   ATTEMPTS       NUMBER(22)  NOT NULL,
   LAST_RESULT    NUMBER(22)  NOT NULL,
   LAST_TRY_TIME  DATE        NULL,
   NEXT_TRY_TIME  DATE        NULL, 
   OA             VARCHAR(30) NOT NULL,   
   DA             VARCHAR(30) NOT NULL,   
   DDA            VARCHAR(30) NOT NULL,   
   MR             NUMBER(5)   NOT NULL,
   SVC_TYPE       VARCHAR(6)  NULL,
   ARC            CHAR(1)     NOT NULL,
   DR             NUMBER(3)   NOT NULL,
   BR             NUMBER(3)   NOT NULL,
   SRC_MSC        VARCHAR(21) NULL,
   SRC_IMSI       VARCHAR(21) NULL,
   SRC_SME_N      NUMBER(22)  NOT NULL,   
   DST_MSC        VARCHAR(21) NULL,
   DST_IMSI       VARCHAR(21) NULL,
   DST_SME_N      NUMBER(22)  NULL,
   BODY_LEN       NUMBER(10)  NOT NULL,
   BODY           RAW(2000)   NULL
) TABLESPACE SMSC_DATA;

CREATE UNIQUE INDEX SMS_MSG_IDX ON SMS_MSG (ID)
TABLESPACE SMSC_IDX NOSORT;

ALTER TABLE SMS_MSG ADD CONSTRAINT SMS_MSG_PK PRIMARY KEY (ID);

CREATE INDEX SMS_MSG_OA_IDX ON SMS_MSG (OA)
TABLESPACE SMSC_IDX;

CREATE INDEX SMS_MSG_DA_IDX ON SMS_MSG (DA)
TABLESPACE SMSC_IDX;

CREATE INDEX SMS_MSG_MR_IDX ON SMS_MSG (MR)
TABLESPACE SMSC_IDX;

CREATE INDEX SMS_MSG_SVC_TYPE_IDX ON SMS_MSG (SVC_TYPE)
TABLESPACE SMSC_IDX;

CREATE INDEX SMS_MSG_NEXT_TIME_IDX ON SMS_MSG (NEXT_TRY_TIME)
TABLESPACE SMSC_IDX;

CREATE INDEX SMS_MSG_LAST_TIME_IDX ON SMS_MSG (LAST_TRY_TIME)
TABLESPACE SMSC_IDX;

DROP TABLE SMS_ATCH;
CREATE TABLE SMS_ATCH
(
   ID       RAW(8)   NOT NULL,
   BODY     BLOB     NOT NULL
) TABLESPACE SMSC_IDX;

CREATE UNIQUE INDEX SMS_ATCH_IDX ON SMS_ATCH (ID)
TABLESPACE SMSC_IDX NOSORT;

ALTER TABLE SMS_ATCH ADD CONSTRAINT SMS_ATCH_PK PRIMARY KEY (ID);
--ALTER TABLE SMS_ATCH ADD CONSTRAINT SMS_ATCH_FK FOREIGN KEY (ID) REFERENCES SMS_MSG (ID);

DROP TABLE SMS_ARC;
CREATE TABLE SMS_ARC
(  
   ID             RAW(8)      NOT NULL,
   ST             NUMBER(3)   NOT NULL,
   SUBMIT_TIME    DATE        NOT NULL,   
   VALID_TIME     DATE        NOT NULL,
   ATTEMPTS       NUMBER(22)  NOT NULL,
   LAST_RESULT    NUMBER(22)  NOT NULL,
   LAST_TRY_TIME  DATE        NULL,
   NEXT_TRY_TIME  DATE        NULL, 
   OA             VARCHAR(30) NOT NULL,   
   DA             VARCHAR(30) NOT NULL,   
   DDA            VARCHAR(30) NOT NULL,   
   MR             NUMBER(5)   NOT NULL,
   SVC_TYPE       VARCHAR(6)  NULL,
   DR             NUMBER(3)   NOT NULL,
   BR             NUMBER(3)   NOT NULL,
   SRC_MSC        VARCHAR(21) NULL,
   SRC_IMSI       VARCHAR(21) NULL,
   SRC_SME_N      NUMBER(22)  NOT NULL,   
   DST_MSC        VARCHAR(21) NULL,
   DST_IMSI       VARCHAR(21) NULL,
   DST_SME_N      NUMBER(22)  NULL,
   BODY_LEN       NUMBER(10)  NOT NULL,
   BODY           RAW(2000)   NULL
)TABLESPACE SMSC_DATA;

CREATE UNIQUE INDEX SMS_ARC_IDX ON SMS_ARC (ID)
TABLESPACE SMSC_IDX;

ALTER TABLE SMS_ARC ADD CONSTRAINT SMS_ARC_PK PRIMARY KEY (ID);

DROP TABLE SMS_BR;
CREATE TABLE SMS_BR
(  
   N              NUMBER(22)     NULL,
   TD             DATE           NULL,
   FD             DATE           NULL,
   SMS_UPLOAD_N   NUMBER(22)     NULL,
   CI             NUMBER(22)     NULL,
   SRC_ADDR       VARCHAR2(21)   NOT NULL,
   SRC_TON        VARCHAR2(21)   NOT NULL,
   SRC_NPI        VARCHAR2(21)   NOT NULL,
   SRC_MSC        VARCHAR2(21)   NULL,
   SRC_IMSI       VARCHAR2(21)   NULL,
   SRC_SME_N      NUMBER(22)     NULL,
   DST_ADDR       VARCHAR2(21)   NOT NULL,
   DST_TON        VARCHAR2(21)   NOT NULL,
   DST_NPI        VARCHAR2(21)   NOT NULL,
   DST_MSC        VARCHAR2(21)   NULL,
   DST_IMSI       VARCHAR2(21)   NULL,
   DST_SME_N      NUMBER(22)     NULL,
   SUBMIT_FD      DATE           NULL,
   STATUS         NUMBER(22)     NOT NULL,
   ATTEMPT        NUMBER(22)     NOT NULL,
   LAST_RESULT    NUMBER(22)     NOT NULL,
   PRTY           NUMBER(22)     NOT NULL,
   RP             NUMBER(22)     NOT NULL,
   TXT_LENGTH     NUMBER(22)     NOT NULL,
   DATA           VARCHAR2(2000) NULL
) TABLESPACE SMSC_DATA;

DROP TABLE SMS_IDS;
CREATE TABLE SMS_IDS
(  
   ID        RAW(8)      NOT NULL
) TABLESPACE SMSC_DATA;

CREATE UNIQUE INDEX SMS_IDS_IDX ON SMS_IDS (ID)
TABLESPACE SMSC_IDX;

drop table sms_profile;
CREATE TABLE sms_profile (
  mask varchar(30),
  reportinfo NUMBER(3),
  codeset NUMBER(3)
);

CREATE UNIQUE INDEX SMS_PROFILE_MASK_IDX on sms_profile (mask)
TABLESPACE SMSC_IDX;
