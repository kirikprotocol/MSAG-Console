<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:tr="http://myfaces.apache.org/trinidad"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:eye="http://taglib.eyeline.mobi"
      xmlns:smsc="http://taglib.smsc.mobi"
      xmlns:jstl="http://java.sun.com/jstl/core">


<ui:composition template="/templates/main.xhtml">

  <ui:param name="pageTitle" value="#{msg['smsc.fraud.title']}"/>

  <ui:define name="content">

    <h:form rendered="#{!fraud.initError}">
      <tr:inputHidden value="#{fraud.revision}"/>
      <eye:message level="warn" rendered="#{fraud.settingsChanged}"><h:outputText value="#{msg['smsc.submit.hint']}"/></eye:message>

      <p/>

      <h:panelGrid style="align:left; width:35%" columns="1" columnClasses="column0Width">
        <eye:pageSubtitle value="#{msg['smsc.fraud.subtitle.policy']}"/>
        <tr:panelFormLayout>
          <tr:panelLabelAndMessage label="#{fraudSettingsBundle['enableCheck']}">
            <h:selectBooleanCheckbox value="#{fraud.enableCheck}"/>
          </tr:panelLabelAndMessage>
          <tr:panelLabelAndMessage label="#{fraudSettingsBundle['enableReject']}">
            <h:selectBooleanCheckbox value="#{fraud.enableReject}"/>
          </tr:panelLabelAndMessage>
          <tr:panelLabelAndMessage label="#{fraudSettingsBundle['tail']}">
            <tr:inputText value="#{fraud.tail}" required="true" simple="true" contentStyle="width:70px; margin-left:5px;">
              <eye:validatePositive/>
            </tr:inputText>
          </tr:panelLabelAndMessage>
        </tr:panelFormLayout>
      </h:panelGrid>

      <p/>

      <h:panelGrid style="align:left;" columns="1" columnClasses="column0Width">
        <eye:pageSubtitle value="#{fraudSettingsBundle['whiteList']}"/>
        <eye:dataTable value="#{fraud.addressTableModel}" selectedRows="#{fraud.selectedRows}" var="aaa">
          <eye:row rowId="#{aaa.address}" opened="true">
            <eye:column name="address" title="#{msg['smsc.fraud.address.label']}" width="99%" sortable="true">
              <h:outputText value="#{aaa.simpleAddress}"/>
            </eye:column>
          </eye:row>
        </eye:dataTable>
      </h:panelGrid>

      <p/>

      <eye:buttons>
        <eye:button>
          <tr:commandLink actionListener="#{fraud.addLine}">
            <tr:image source="/images/but_add.gif" inlineStyle="margin-bottom: -5px"/>
          </tr:commandLink>
          <tr:inputText value="#{fraud.newAddr}" required="false" simple="true" contentStyle="width: 150px; margin-bottom: 0px">
            <eye:validatePhone/>
          </tr:inputText>

        </eye:button>

        <eye:button>
          <tr:commandLink text="#{msg['delete.button']}" id="delete2" actionListener="#{fraud.removeSelected}"
                          onclick="if (!confirm('#{msg['smsc.delete.records']}')) return false"/>
        </eye:button>

        <eye:space/>

        <eye:button><smsc:submitButton bean="#{fraud}" action="save"/></eye:button>

        <eye:button><smsc:resetButton bean="#{fraud}" action="reset"/></eye:button>

      </eye:buttons>


    </h:form>

  </ui:define>


</ui:composition>


</html>