<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:eye="http://jsfcomponents.eyeline.mobi"
      xmlns:smsc="http://taglib.smsc.mobi">


<ui:composition template="/templates/main.xhtml">

  <ui:param name="pageTitle" value="#{msg['smsc.fraud.title']}"/>

  <ui:define name="styles">
    .labelColumn {width: 1px; text-align: right; white-space : nowrap;}
    .valueColumn {width: 100%; text-align: left;}
    .addButton {width: 100px; white-space: nowrap;}
    .addressColumn {width: 99%}
  </ui:define>

  <ui:define name="content">

    <h:form rendered="#{!fraud.initError}">
      <h:inputHidden value="#{fraud.revision}"/>
      <h:panelGrid style="padding-bottom: 5px" rendered="#{fraud.settingsChanged}">
        <eye:message level="warn"><h:outputText value="#{msg['smsc.submit.hint']}"/></eye:message>
      </h:panelGrid>

      <smsc:pageSubtitle value="#{msg['smsc.fraud.subtitle.policy']}"/>
      <h:panelGrid style="padding-left: 10px" columns="2" columnClasses="labelColumn, valueColumn">
        <h:outputText value="#{fraudSettingsBundle['enableCheck']}"/>
        <h:selectBooleanCheckbox value="#{fraud.enableCheck}"/>
        <h:outputText value="#{fraudSettingsBundle['enableReject']}"/>
        <h:selectBooleanCheckbox value="#{fraud.enableReject}"/>
        <h:outputText value="#{fraudSettingsBundle['tail']}"/>
        <eye:inputText value="#{fraud.tail}" required="true">
          <smsc:validatePositive/>
        </eye:inputText>

      </h:panelGrid>

      <h:panelGrid style="align:left;padding-top: 5px" columns="1" columnClasses="column0Width">
        <smsc:pageSubtitle value="#{fraudSettingsBundle['whiteList']}"/>
        <eye:dataTable value="#{fraud.addressTableModel}" selectedRows="#{fraud.selectedRows}" var="row">
          <eye:row>
            <eye:column name="address" title="#{msg['smsc.fraud.address.label']}" columnClass="addressColumn" sortable="true">
              <h:outputText value="#{row.simpleAddress}"/>
            </eye:column>
          </eye:row>
        </eye:dataTable>
      </h:panelGrid>

      <eye:buttons>
        <eye:button>
          <h:commandLink actionListener="#{fraud.addLine}">
            <h:graphicImage value="/images/but_add.gif" style="margin-left: -20px; margin-bottom: -20px"/>
          </h:commandLink>
          <h:panelGroup style="width:150px; margin-bottom: 0px">
            <eye:inputText value="#{fraud.newAddr}" required="false">
              <smsc:validatePhone/>
            </eye:inputText>
          </h:panelGroup>
        </eye:button>

        <eye:button>
          <h:commandLink value="#{msg['delete.button']}" id="delete2" actionListener="#{fraud.removeSelected}"
                         onclick="if (!confirm('#{msg['smsc.delete.records']}')) return false"/>
        </eye:button>

        <eye:space/>

        <eye:button><smsc:submitButton bean="#{fraud}" action="save"/></eye:button>

        <eye:button><smsc:resetButton bean="#{fraud}" action="reset"/></eye:button>

      </eye:buttons>


    </h:form>

  </ui:define>


</ui:composition>


</html>