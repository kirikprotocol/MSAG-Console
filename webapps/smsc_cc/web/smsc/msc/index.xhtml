<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:eye="http://jsfcomponents.eyeline.mobi"
      xmlns:smsc="http://taglib.smsc.mobi">


<ui:composition template="/templates/main.xhtml">

  <ui:param name="pageTitle" value="#{msg['smsc.msc.title']}"/>

  <ui:define name="styles">
    .column1 {width: 1px; text-align:right; white-space: nowrap;}
    .column2 {text-align: left;}
    .addrColumn {width: 100%}
    .addButton {width: 10px; white-space: nowrap;}
    .addField {width: 100%; white-space: nowrap;}
  </ui:define>

  <ui:define name="content">

    <h:form>

      <eye:dataTableFilter applyAction="#{msc.applyFilter}" clearAction="#{msc.clearFilter}">
        <h:panelGrid columns="2" columnClasses="column1, column2">
          <h:outputText style="white-space: nowrap" value="#{msg['smsc.msc.prefix.filter']}"/>
          <eye:inputText value="#{msc.prefixFilter}"/>
        </h:panelGrid>
      </eye:dataTableFilter>

      <eye:dataTable value="#{msc.commutatorsModel}" selectedRows="#{msc.selectedRows}" var="a">
        <eye:row>
          <eye:column name="addr" title="#{msg['smsc.msc.column.addr']}" columnClass="addrColumn" sortable="true" defaultSortOrder="asc">
            <h:outputText value="#{a.simpleAddress}"/>
          </eye:column>
        </eye:row>
      </eye:dataTable>

      <eye:buttons>
        <eye:button>
          <h:panelGrid columns="2" columnClasses="addButton, addField">
            <h:commandLink actionListener="#{msc.addAddress}">
              <h:graphicImage value="/images/but_add.gif"/>
            </h:commandLink>
            <eye:inputText value="#{msc.newAddress}">
              <smsc:validatePhone/>
            </eye:inputText>
          </h:panelGrid>
        </eye:button>
        <eye:button>
          <h:commandLink value="#{msg['delete.button']}" id="delete2" actionListener="#{msc.removeSelected}"
                         onclick="if (!confirm('#{msg['smsc.delete.records']}')) return false"/>
        </eye:button>

        <eye:space/>
      </eye:buttons>
    </h:form>

  </ui:define>


</ui:composition>


</html>