<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:eye="http://jsfcomponents.eyeline.mobi"
      xmlns:smsc="http://taglib.smsc.mobi"
      xmlns:c="http://java.sun.com/jstl/core">

<ui:composition template="/templates/main.xhtml">

<ui:param name="pageTitle" value="#{msg['smsc.config.title']}"/>

<ui:define name="styles">
  .labelColumn {width: 1px; white-space: nowrap; text-align: right;}
  .valueColumn {width:100%; text-align: left;}
  .column1 {width: 50%; vertical-align:top;}
</ui:define>

<ui:define name="content">

<h:form id="smsc_config" rendered="#{!smscConfig.initFailed}">

<eye:message level="warn" rendered="#{smscConfig.settingsChanged}">
  <h:outputText value="#{msg['smsc.submit.hint']}"/>
</eye:message>

<h:outputText id="dummy" rendered="#{smscConfig == null ? false : false}"/>

<eye:buttons>
  <eye:button><smsc:submitButton bean="#{smscConfig}" action="save"/></eye:button>
  <eye:button><smsc:resetButton bean="#{smscConfig}" action="reset"/></eye:button>
  <eye:space/>
</eye:buttons>

<t:saveState value="#{smscConfig.instancesCount}"/>
<t:saveState value="#{smscConfig.instanceConfigs}"/>

<h:inputHidden value="#{smscConfig.revision}"/>

<h:panelGrid columns="2" columnClasses="column1, column1" style="padding: 5px 10px 5px 10px">

<h:panelGroup>
<smsc:pageSubtitle value="#{msg['common.settings.title']}"/>

<eye:collapsingGroup label="#{msg['core.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.state_machines_count}"/>
    <eye:inputText value="#{smscConfig.commonConfig.state_machines_count}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.mainLoopsCount}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mainLoopsCount}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.eventQueueLimit}"/>
    <eye:inputText value="#{smscConfig.commonConfig.eventQueueLimit}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.service_center_address}"/>
    <eye:inputText value="#{smscConfig.commonConfig.service_center_address}" required="true"/>

    <h:outputText value="#{commonSettings.ussd_center_address}"/>
    <eye:inputText value="#{smscConfig.commonConfig.ussd_center_address}" required="true"/>

    <h:outputText value="#{commonSettings.ussd_ssn}"/>
    <eye:inputText value="#{smscConfig.commonConfig.ussd_ssn}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.service_type}"/>
    <eye:inputText value="#{smscConfig.commonConfig.service_type}" required="true"/>

    <h:outputText value="#{commonSettings.systemId}"/>
    <eye:inputText value="#{smscConfig.commonConfig.systemId}" required="true"/>

    <h:outputText value="#{commonSettings.protocol_id}"/>
    <eye:inputText value="#{smscConfig.commonConfig.protocol_id}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.add_ussd_ssn}"/>
    <h:panelGrid columns="1" style="width: 50%">
      <eye:dynamicTable value="#{smscConfig.addSsnModel}">
        <eye:textColumn name="ssn" allowEditAfterAdd="true"/>
      </eye:dynamicTable>
    </h:panelGrid>

    <h:outputText value="#{commonSettings.locales}"/>
    <h:panelGrid columns="1" style="width: 50%">
      <eye:dynamicTable value="#{smscConfig.localesModel}">
        <eye:textColumn name="locale" allowEditAfterAdd="true"/>
      </eye:dynamicTable>
    </h:panelGrid>

    <h:outputText value="#{commonSettings.default_locale}"/>
    <eye:inputText value="#{smscConfig.commonConfig.default_locale}" required="true"/>

    <h:outputText value="#{commonSettings.mergeTimeout}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mergeTimeout}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.timezones_config}"/>
    <eye:inputText value="#{smscConfig.commonConfig.timezones_config}" required="true"/>

    <h:outputText value="#{commonSettings.smartMultipartForward}"/>
    <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.smartMultipartForward}"/>

    <h:outputText value="#{commonSettings.srcSmeSeparateRouting}"/>
    <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.srcSmeSeparateRouting}"/>

    <h:outputText value="#{commonSettings.schedulerSoftLimit}"/>
    <eye:inputText value="#{smscConfig.commonConfig.schedulerSoftLimit}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.schedulerHardLimit}"/>
    <eye:inputText value="#{smscConfig.commonConfig.schedulerHardLimit}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['sms.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.smsMaxValidTime}"/>
    <eye:inputText value="#{smscConfig.commonConfig.smsMaxValidTime}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['map.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.mapBusyMTDelay}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mapBusyMTDelay}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.mapLockedByMODelay}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mapLockedByMODelay}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.mapMOLockTimeout}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mapMOLockTimeout}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.mapAllowCallBarred}"/>
    <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mapAllowCallBarred}"/>

    <h:outputText value="#{commonSettings.mapUssdV1Enabled}"/>
    <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mapUssdV1Enabled}"/>

    <h:outputText value="#{commonSettings.mapUssdV1UseOrigEntityNumber}"/>
    <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mapUssdV1UseOrigEntityNumber}"/>

    <h:outputText value="#{commonSettings.mapIOTasksCount}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mapIOTasksCount}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['trafficControl.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.trafficShapeTimeFrame}"/>
    <eye:inputText value="#{smscConfig.commonConfig.trafficShapeTimeFrame}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.trafficStatTimeFrame}"/>
    <eye:inputText value="#{smscConfig.commonConfig.trafficStatTimeFrame}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['messagestore.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.msArchiveInterval}"/>
    <eye:inputText value="#{smscConfig.commonConfig.msArchiveInterval}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>

  <eye:collapsingGroup label="#{msg['messagestore.localstore.label']}">
    <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
      <h:outputText value="#{commonSettings.lsMaxStoreSize}"/>
      <eye:inputText value="#{smscConfig.commonConfig.lsMaxStoreSize}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.lsMinRollTime}"/>
      <eye:inputText value="#{smscConfig.commonConfig.lsMinRollTime}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>
    </h:panelGrid>
  </eye:collapsingGroup>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['smpp.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.smppReadTimeout}"/>
    <eye:inputText value="#{smscConfig.commonConfig.smppReadTimeout}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.smppInactivityTime}"/>
    <eye:inputText value="#{smscConfig.commonConfig.smppInactivityTime}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.smppInactivityTimeOut}"/>
    <eye:inputText value="#{smscConfig.commonConfig.smppInactivityTimeOut}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.smppBindTimeout}"/>
    <eye:inputText value="#{smscConfig.commonConfig.smppBindTimeout}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.smppDefaultConnectionsLimit}"/>
    <eye:inputText value="#{smscConfig.commonConfig.smppDefaultConnectionsLimit}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['profiler.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.profilerSystemId}"/>
    <eye:inputText value="#{smscConfig.commonConfig.profilerSystemId}" required="true"/>

    <h:outputText value="#{commonSettings.profilerServiceType}"/>
    <eye:inputText value="#{smscConfig.commonConfig.profilerServiceType}" required="true"/>

    <h:outputText value="#{commonSettings.profilerStoreFile}"/>
    <eye:inputText value="#{smscConfig.commonConfig.profilerStoreFile}" required="true"/>

    <h:outputText value="#{commonSettings.profilerProtocolId}"/>
    <eye:inputText value="#{smscConfig.commonConfig.profilerProtocolId}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>

  <eye:collapsingGroup label="#{msg['profiler.notify.label']}">
    <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
      <h:outputText value="#{commonSettings.profilerNotifyHost}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerNotifyHost}" />

      <h:outputText value="#{commonSettings.profilerNotifyPort}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerNotifyPort}" required="true">
        <smsc:validatePort/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerNotifyDir}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerNotifyDir}" required="true"/>
    </h:panelGrid>
  </eye:collapsingGroup>

  <eye:collapsingGroup label="#{msg['profiler.ussdOpsMapping.label']}">
    <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
      <h:outputText value="#{commonSettings.profilerReportNone}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerReportNone}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerReportFull}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerReportFull}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerReportFinal}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerReportFinal}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerLocaleRU}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerLocaleRU}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerLocaleEN}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerLocaleEN}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDefault}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDefault}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerUCS2}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerUCS2}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerHide}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerHide}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerUnhide}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerUnhide}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerUSSD7BitOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerUSSD7BitOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerUSSD7BitOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerUSSD7BitOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertAbsentOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertAbsentOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertAbsentOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertAbsentOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertBlockedOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertBlockedOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertBlockedOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertBlockedOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertBarredOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertBarredOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertBarredOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertBarredOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertCapacityOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertCapacityOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertCapacityOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertCapacityOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertStatus}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertStatus}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerDivertTo}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerDivertTo}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerConcatOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerConcatOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerConcatOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerConcatOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerTranslitOn}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerTranslitOn}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>

      <h:outputText value="#{commonSettings.profilerTranslitOff}"/>
      <eye:inputText value="#{smscConfig.commonConfig.profilerTranslitOff}" required="true">
        <smsc:validatePositive/>
      </eye:inputText>
    </h:panelGrid>
  </eye:collapsingGroup>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['abonentinfo.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.abInfoSystemId}"/>
    <eye:inputText value="#{smscConfig.commonConfig.abInfoSystemId}" required="true"/>

    <h:outputText value="#{commonSettings.abInfoServiceType}"/>
    <eye:inputText value="#{smscConfig.commonConfig.abInfoServiceType}" required="true"/>

    <h:outputText value="#{commonSettings.abInfoMobileAccessAddress}"/>
    <eye:inputText value="#{smscConfig.commonConfig.abInfoMobileAccessAddress}" required="true"/>

    <h:outputText value="#{commonSettings.abInfoProtocolId}"/>
    <eye:inputText value="#{smscConfig.commonConfig.abInfoProtocolId}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.abInfoSmppAccessAddress}"/>
    <eye:inputText value="#{smscConfig.commonConfig.abInfoSmppAccessAddress}" required="true"/>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['mscmanager.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.mscAutomaticRegistration}"/>
    <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mscAutomaticRegistration}"/>

    <h:outputText value="#{commonSettings.mscFailureLimit}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mscFailureLimit}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.mscStoreFile}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mscStoreFile}" required="true"/>

    <h:outputText value="#{commonSettings.mscSingleAttemptTimeout}"/>
    <eye:inputText value="#{smscConfig.commonConfig.mscSingleAttemptTimeout}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['acl.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.aclStoreDir}"/>
    <eye:inputText value="#{smscConfig.commonConfig.aclStoreDir}" required="true"/>

    <h:outputText value="#{commonSettings.aclPreCreateSize}"/>
    <eye:inputText value="#{smscConfig.commonConfig.aclPreCreateSize}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['inman.label']}">

  <eye:collapsingGroup label="#{msg['inman.chargingPolicy.label']}">
    <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
      <h:outputText value="#{commonSettings.inmanChargingPeer2peer}"/>
      <eye:inputText value="#{smscConfig.commonConfig.inmanChargingPeer2peer}" required="true"/>

      <h:outputText value="#{commonSettings.inmanChargingOther}"/>
      <eye:inputText value="#{smscConfig.commonConfig.inmanChargingOther}" required="true"/>
    </h:panelGrid>
  </eye:collapsingGroup>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['aliasman.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.aliasStoreFile}"/>
    <eye:inputText value="#{smscConfig.commonConfig.aliasStoreFile}" required="true"/>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['snmp.label']}">
  <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
    <h:outputText value="#{commonSettings.snmpCsvFileDir}"/>
    <eye:inputText value="#{smscConfig.commonConfig.snmpCsvFileDir}" required="true"/>

    <h:outputText value="#{commonSettings.snmpCsvFileRollInterval}"/>
    <eye:inputText value="#{smscConfig.commonConfig.snmpCsvFileRollInterval}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>

    <h:outputText value="#{commonSettings.snmpCacheTimeout}"/>
    <eye:inputText value="#{smscConfig.commonConfig.snmpCacheTimeout}" required="true">
      <smsc:validatePositive/>
    </eye:inputText>
  </h:panelGrid>
</eye:collapsingGroup>

<eye:collapsingGroup label="#{msg['directives.label']}">
  <eye:dynamicTable value="#{smscConfig.directivesModel}">
    <eye:textColumn name="key" allowEditAfterAdd="true"/>
    <eye:textColumn name="value" allowEditAfterAdd="true"/>
  </eye:dynamicTable>
</eye:collapsingGroup>

</h:panelGroup>

<h:panelGroup>
  <smsc:pageSubtitle value="#{msg['instances.settings.title']}"/>

  <c:set var="i" value="0"/>
  <c:forEach var="var" items="#{smscConfig.instanceConfigs}">
    <c:set var="i" value="#{i+1}"/>
    <eye:collapsingGroup label="#{msg['instance.number.label']}: #{i}">

      <eye:collapsingGroup label="#{msg['core.label']}">
        <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
          <h:outputText value="#{instanceSettings.adminHost}"/>
          <eye:inputText value="#{var.adminHost}" required="true"/>

          <h:outputText value="#{instanceSettings.adminPort}"/>
          <eye:inputText value="#{var.adminPort}" required="true">
            <smsc:validatePort/>
          </eye:inputText>
        </h:panelGrid>

        <eye:collapsingGroup label="#{msg['core.performance.label']}">
          <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
            <h:outputText value="#{instanceSettings.corePerfHost}"/>
            <eye:inputText value="#{var.corePerfHost}" required="true"/>

            <h:outputText value="#{instanceSettings.corePerfPort}"/>
            <eye:inputText value="#{var.corePerfPort}" required="true">
              <smsc:validatePort/>
            </eye:inputText>
          </h:panelGrid>
        </eye:collapsingGroup>
      </eye:collapsingGroup>

      <eye:collapsingGroup label="#{msg['smeperformance.label']}">
        <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
          <h:outputText value="#{instanceSettings.smePerfHost}"/>
          <eye:inputText value="#{var.smePerfHost}" required="true"/>

          <h:outputText value="#{instanceSettings.smePerfPort}"/>
          <eye:inputText value="#{var.smePerfPort}" required="true">
            <smsc:validatePort/>
          </eye:inputText>
        </h:panelGrid>
      </eye:collapsingGroup>

      <eye:collapsingGroup label="#{msg['messagestore.label']}">
        <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
          <h:outputText value="#{instanceSettings.messageStoreArchDir}"/>
          <eye:inputText value="#{var.messageStoreArchDir}" required="true"/>

          <h:outputText value="#{instanceSettings.messageStoreStatsDir}"/>
          <eye:inputText value="#{var.messageStoreStatsDir}" required="true"/>
        </h:panelGrid>

        <eye:collapsingGroup label="#{msg['messagestore.localstore.label']}">
          <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
            <h:outputText value="#{instanceSettings.localStoreFilename}"/>
            <eye:inputText value="#{var.localStoreFilename}" required="true"/>

            <h:outputText value="#{instanceSettings.localStoreMessIdFile}"/>
            <eye:inputText value="#{var.localStoreMessIdFile}" required="true"/>
          </h:panelGrid>
        </eye:collapsingGroup>
      </eye:collapsingGroup>

      <eye:collapsingGroup label="#{msg['smpp.label']}">
        <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
          <h:outputText value="#{instanceSettings.smppHost}"/>
          <eye:inputText value="#{var.smppHost}" required="true"/>

          <h:outputText value="#{instanceSettings.smppPort}"/>
          <eye:inputText value="#{var.smppPort}" required="true">
            <smsc:validatePort/>
          </eye:inputText>
        </h:panelGrid>
      </eye:collapsingGroup>

    </eye:collapsingGroup>
  </c:forEach>
</h:panelGroup>

</h:panelGrid>

<eye:buttons>
  <eye:button><smsc:submitButton bean="#{smscConfig}" action="save"/></eye:button>
  <eye:button><smsc:resetButton bean="#{smscConfig}" action="reset"/></eye:button>
  <eye:space/>
</eye:buttons>

</h:form>

</ui:define>

</ui:composition>

</html>
