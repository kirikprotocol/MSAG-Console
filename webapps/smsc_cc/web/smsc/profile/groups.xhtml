<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:eye="http://jsfcomponents.eyeline.mobi">

<ui:composition template="/templates/main.xhtml">

  <ui:param name="pageTitle" value="#{msg['group.profiles.page.title']}"/>

  <ui:define name="styles">
    .labelColumn {width: 1px; text-align:right; white-space: nowrap;}
    .lastColumn {text-align: left;}

    .addrColumn {width:50%; text-align: left;}
    .propColumn {width: 10%; text-align: center;}
  </ui:define>

  <ui:define name="content">

    <h:form>

      <h:inputHidden value="#{groupsProfile.applyCalled}"/>

      <eye:dataTableFilter applyAction="#{groupsProfile.applyFilter}" clearAction="#{groupsProfile.clearFilter}">
        <h:panelGrid columns="2" columnClasses="labelColumn, valueColumn">
          <h:outputText value="#{profile['address']}"/>
          <eye:inputText value="#{groupsProfile.mask}"/>
        </h:panelGrid>
      </eye:dataTableFilter>

      <eye:dataTable value="#{groupsProfile.groups}" var="group" selectedRows="#{groupsProfile.groups2remove}">

        <eye:row>

          <eye:column name="address" title="#{profile['address']}" sortable="true" defaultSortOrder="asc" columnClass="addrColumn">
            <h:commandLink action="PROFILE_EDIT" value="#{group.address.simpleAddress}" immediate="true">
              <f:param name="profileAddr" value="#{group.address.simpleAddress}"/>
              <f:param name="backPage" value="PROFILE_GROUPS"/>
            </h:commandLink>
          </eye:column>

          <eye:column name="codepage" title="#{msg['group.profiles.page.codepage']}" columnClass="propColumn">
            <h:outputText value="Default" rendered="#{!group.latin1 and !group.ucs2}"/>
            <h:outputText value="Latin1" rendered="#{group.latin1}"/>
            <h:outputText value=" " rendered="#{group.latin1}"/>
            <h:outputText value="UCS2" rendered="#{group.ucs2}"/>
          </eye:column>

          <eye:column name="ussd7bit" title="#{profile['ussd7bit']}" columnClass="propColumn">
            <h:graphicImage value="/images/ic_checked.gif" rendered="#{group.ussd7bit}"/>
            <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!group.ussd7bit}"/>
          </eye:column>

          <eye:column name="reportData" title="#{profile['reportOptions']}" columnClass="propColumn">
            <h:outputText value="#{group.reportOptions}"/>
          </eye:column>

          <eye:column name="locale" title="#{profile['locale']}" columnClass="propColumn">
            <h:outputText value="#{group.locale}"/>
          </eye:column>

          <eye:column name="reportData" title="#{profile['aliasHide']}" columnClass="propColumn">
            <h:outputText value="#{group.aliasHide}"/>
          </eye:column>
        </eye:row>

      </eye:dataTable>

      <eye:buttons>
        <eye:button>
          <h:commandLink value="#{msg['add.button']}" action="PROFILE_EDIT" immediate="true">
            <f:param name="backPage" value="PROFILE_GROUPS"/>
          </h:commandLink>
        </eye:button>
        <eye:button><h:commandLink value="#{msg['delete.button']}" action="#{groupsProfile.removeGroup}" onclick="if (!confirm('#{msg['smsc.delete.records']}')) return false"/></eye:button>
        <eye:space/>
      </eye:buttons>

    </h:form>

  </ui:define>

</ui:composition>


</html>