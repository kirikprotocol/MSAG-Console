<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:eye="http://jsfcomponents.eyeline.mobi"
      xmlns:smsc="http://taglib.smsc.mobi">

<ui:composition template="/templates/main.xhtml">

  <ui:param name="pageTitle" value="#{msg['lookup.profile.page.title']}"/>

  <ui:define name="styles">
    .column1 {width: 1px; text-align:right; white-space:nowrap;}
    .column2 {width: 100%; text-align: left;}
  </ui:define>

  <ui:define name="content">

    <h:form>

      <h:panelGrid columns="2" columnClasses="column1, column2">
        <h:outputText value="#{profile['address']}"/>
        <eye:inputText value="#{lookupProfile.address}"/>
      </h:panelGrid>

      <p/>

      <eye:buttons>
        <eye:button>
          <h:commandLink value="#{msg['lookup.button']}" action="#{lookupProfile.lookup}"/>
        </eye:button>
        <eye:space/>
      </eye:buttons>

      <p/>

      <h:panelGroup rendered="#{lookupProfile.canView}">

        <smsc:pageSubtitle value="#{msg['lookup.profile.page.exact.match']}" rendered="#{lookupProfile.lookupResult.exactMatch}"/>
        <smsc:pageSubtitle value="#{msg['lookup.profile.page.mask.match']}: #{lookupProfile.lookupResult.profile.address.simpleAddress}" rendered="#{lookupProfile.lookupResult.maskMatch}"/>
        <smsc:pageSubtitle value="#{msg['lookup.profile.page.default.match']}" rendered="#{lookupProfile.lookupResult.defaultMatch}"/>

        <h:panelGrid columns="2" columnClasses="column1, column2">

          <h:outputText value="#{profile['ucs2']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.ucs2}"/>
          <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.ucs2}"/>

          <h:outputText value="#{profile['latin1']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.latin1}"/>
          <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.latin1}"/>

          <h:outputText value="#{profile['ussd7bit']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.ussd7bit}"/>
          <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.ussd7bit}"/>

          <h:outputText value="#{profile['reportOptions']}"/>
          <h:outputText value="#{lookupProfile.lookupResult.profile.reportOptions}"/>

          <h:outputText value="#{profile['locale']}"/>
          <h:outputText value="#{lookupProfile.lookupResult.profile.locale}"/>

          <h:outputText value="#{profile['aliasHide']}"/>
          <h:outputText value="#{lookupProfile.lookupResult.profile.aliasHide}"/>

          <h:outputText value="#{profile['aliasModifiable']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.aliasModifiable}"/>
          <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.aliasModifiable}"/>

          <h:outputText value="#{profile['divert']}"/>
          <h:outputText value="#{lookupProfile.lookupResult.profile.divert}"/>

          <h:outputText value="#{profile['divertActive']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.divertActive}"/>
          <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.divertActive}"/>

          <h:outputText value="#{profile['divertActiveAbsent']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.divertActiveAbsent}"/>
          <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.divertActiveAbsent}"/>

          <h:outputText value="#{profile['divertActiveBlocked']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.divertActiveBlocked}"/>
          <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.divertActiveBlocked}"/>

          <h:outputText value="#{profile['divertActiveBarred']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.divertActiveBarred}"/>
            <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.divertActiveBarred}"/>

          <h:outputText value="#{profile['divertActiveCapacity']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.divertActiveCapacity}"/>
            <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.divertActiveCapacity}"/>

          <h:outputText value="#{profile['divertModifiable']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.divertModifiable}"/>
            <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.divertModifiable}"/>

          <h:outputText value="#{profile['udhConcat']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.udhConcat}"/>
            <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.udhConcat}"/>

          <h:outputText value="#{profile['translit']}"/>
          <h:graphicImage value="/images/ic_checked.gif" rendered="#{lookupProfile.lookupResult.profile.translit}"/>
            <h:graphicImage value="/images/ic_not_checked.gif" rendered="#{!lookupProfile.lookupResult.profile.translit}"/>

          <h:outputText value="#{profile['groupId']}"/>
          <h:commandLink value="#{lookupProfile.lookupResult.profile.groupId}" action="CLOSED_GROUP_EDIT" immediate="true">
              <f:param name="canView" value="true"/>
              <f:param name="closed_group" value="#{lookupProfile.lookupResult.profile.groupId}"/>
            </h:commandLink>

          <h:outputText value="#{profile['inputAccessMask']}"/>
          <h:outputText value="#{lookupProfile.lookupResult.profile.inputAccessMask}"/>

          <h:outputText value="#{profile['outputAccessMask']}"/>
          <h:outputText value="#{lookupProfile.lookupResult.profile.outputAccessMask}"/>
        </h:panelGrid>

      </h:panelGroup>

      <eye:buttons rendered="#{lookupProfile.canAdd or lookupProfile.canEdit}">
        <eye:button rendered="#{lookupProfile.canAdd}">
          <h:commandLink value="#{msg['add.button']}" action="PROFILE_EDIT" immediate="true">
            <f:param name="canAdd" value="#{lookupProfile.canAdd}"/>
            <f:param name="canEdit" value="#{lookupProfile.canEdit}"/>
            <f:param name="profileAddr" value="#{lookupProfile.address}"/>
            <f:param name="backPage" value="PROFILE_LOOKUP"/>
          </h:commandLink>
        </eye:button>
        <eye:button rendered="#{lookupProfile.canEdit}">
          <h:commandLink value="#{msg['edit.button']}" action="PROFILE_EDIT" immediate="true">
            <f:param name="canAdd" value="#{lookupProfile.canAdd}"/>
            <f:param name="canEdit" value="#{lookupProfile.canEdit}"/>
            <f:param name="profileAddr" value="#{lookupProfile.address}"/>
            <f:param name="backPage" value="PROFILE_LOOKUP"/>
          </h:commandLink>
        </eye:button>
        <eye:button rendered="#{lookupProfile.canEdit}">
          <h:commandLink value="#{msg['delete.button']}" action="#{lookupProfile.remove}" onclick="if (!confirm('#{msg['smsc.delete.records']}')) return false">
            <f:param name="canAdd" value="#{lookupProfile.canAdd}"/>
            <f:param name="canEdit" value="#{lookupProfile.canEdit}"/>
          </h:commandLink>
        </eye:button>
        <eye:space/>
      </eye:buttons>

    </h:form>

  </ui:define>

</ui:composition>


</html>