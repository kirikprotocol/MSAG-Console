<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:tr="http://myfaces.apache.org/trinidad"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:mo="http://eyeline.mobi">

<ui:composition template="../templates/main.xhtml">

<ui:define name="sme_title">
  <table cellpadding="0" cellspacing="0" height="30px" class="smsc_status">
    <tr>
      <th background="/smsc/images/smsc_17.jpg" style="white-space:nowrap">
        #{msg['smsc.config.title']}
      </th>
      <td><h:outputText value="&#160;"/></td>
      <td width="12px" background="/smsc/images/smsc_19.jpg" style="padding-right:0px;"></td>
    </tr>
  </table>
</ui:define>

<ui:define name="content">

<tr:form id="smsc_config">

<tr:messages partialTriggers="saveAll" id="smsc_errors" />

<mo:buttons>
  <tr:commandLink text="#{msg['save.button']}" id="saveAll" partialSubmit="true"  actionListener="#{smscConfig.save}"
                  inlineStyle="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: x-small;"
      />

  <h:outputText value=" | "/>
  <tr:commandLink text="#{msg['cancel.button']}" immediate="true" action="INDEX"
                  inlineStyle="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: x-small;"/>
</mo:buttons>

<tr:panelGroupLayout id="tomahawk_save" partialTriggers="addUssdSsn saveAll addLocale">
  <t:saveState value="#{smscConfig.instancesCount}"/>
  <t:saveState value="#{smscConfig.instanceConfigs}"/>
  <t:saveState value="#{smscConfig.commonConfig.add_ussd_ssn}"/>
  <t:saveState value="#{smscConfig.commonConfig.locales}"/>
  <t:saveState value="#{smscConfig.commonConfig.directives}"/>
</tr:panelGroupLayout>

<tr:inputHidden id="initialized" value="#{smscConfig.initialized}"/>

<table width="100%" cellpadding="10px">
<tr>
<td width="50%" valign="top">
<t:div styleClass="page_subtitle">
  <h:outputText value="#{msg['common.settings.title']}"/>
</t:div>
<mo:collapsing_group name="#{msg['core.label']}">
  <tr:panelFormLayout id="core_props" partialTriggers="saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.state_machines_count}">
      <tr:inputText value="#{smscConfig.commonConfig.state_machines_count}" required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mainLoopsCount}">
      <tr:inputText value="#{smscConfig.commonConfig.mainLoopsCount}" required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.eventQueueLimit}">
      <tr:inputText value="#{smscConfig.commonConfig.eventQueueLimit}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.service_center_address}">
      <tr:inputText value="#{smscConfig.commonConfig.service_center_address}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.ussd_center_address}">
      <tr:inputText value="#{smscConfig.commonConfig.ussd_center_address}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.ussd_ssn}">
      <tr:inputText value="#{smscConfig.commonConfig.ussd_ssn}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.service_type}">
      <tr:inputText value="#{smscConfig.commonConfig.service_type}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.systemId}">
      <tr:inputText value="#{smscConfig.commonConfig.systemId}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.protocol_id}" >
      <tr:inputText value="#{smscConfig.commonConfig.protocol_id}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

  </tr:panelFormLayout>

  <h:panelGrid columns="2" style="padding-top:5px; padding-bottom:5px" columnClasses="columnTop, columnTop">
    <tr:outputLabel for="add_ussd_ssn" value="#{commonSettings.add_ussd_ssn}"/>
    <tr:panelGroupLayout id="add_ussd_ssn" partialTriggers="addUssdSsn iter:remove :saveAll">
      <tr:iterator id="iter" value="#{smscConfig.commonConfig.add_ussd_ssn}" var="ent" varStatus="addUssdSsnIndex">
        <h:panelGrid columns="2" style="width:0">
          <tr:panelLabelAndMessage>
            <tr:inputText value="#{ent.addUssdSsn}"/>
          </tr:panelLabelAndMessage>
          <tr:commandLink  partialSubmit="true" actionListener="#{smscConfig.removeAdd_ussd_ssn}" id="remove">
            <f:param name="removeAddUssdSsn" value="#{addUssdSsnIndex.index}"/>
            <tr:image source="/images/but_del.gif"/>
          </tr:commandLink>
        </h:panelGrid>
      </tr:iterator>
      <h:panelGrid columns="2" style="width:0">
        <tr:panelLabelAndMessage>
          <tr:inputText value="#{smscConfig.newAddUssdSsn.addUssdSsn}"/>
        </tr:panelLabelAndMessage>
        <tr:commandLink id="addUssdSsn" partialSubmit="true" actionListener="#{smscConfig.addAdd_ussd_ssn}">
          <tr:image source="/images/but_add.gif"/>
        </tr:commandLink>
      </h:panelGrid>
    </tr:panelGroupLayout>

    <tr:outputLabel for="locales" value="#{commonSettings.locales}"/>
    <tr:panelGroupLayout id="locales" partialTriggers="addLocale iter_loc:removeLoc :saveAll">
      <tr:iterator id="iter_loc" value="#{smscConfig.commonConfig.locales}" var="ent" varStatus="localeIndex">
        <h:panelGrid columns="2" style="width:0">
          <tr:panelLabelAndMessage>
            <tr:inputText value="#{ent.locale}"/>
          </tr:panelLabelAndMessage>
          <tr:commandLink  partialSubmit="true" actionListener="#{smscConfig.removeLocale}" id="removeLoc">
            <f:param name="removeLocale" value="#{localeIndex.index}"/>
            <tr:image source="/images/but_del.gif"/>
          </tr:commandLink>
        </h:panelGrid>
      </tr:iterator>
      <h:panelGrid columns="2" style="width:0">
        <tr:panelLabelAndMessage>
          <tr:inputText value="#{smscConfig.newLocale.locale}"/>
        </tr:panelLabelAndMessage>
        <tr:commandLink id="addLocale" partialSubmit="true" actionListener="#{smscConfig.addLocale}">
          <tr:image source="/images/but_add.gif"/>
        </tr:commandLink>
      </h:panelGrid>
    </tr:panelGroupLayout>
  </h:panelGrid>

  <tr:panelFormLayout partialTriggers="saveAll">
    <tr:panelLabelAndMessage label="#{commonSettings.default_locale}">
      <tr:inputText value="#{smscConfig.commonConfig.default_locale}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mergeTimeout}">
      <tr:inputText value="#{smscConfig.commonConfig.mergeTimeout}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.timezones_config}">
      <tr:inputText value="#{smscConfig.commonConfig.timezones_config}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.smartMultipartForward}" inlineStyle="text-align:left">
      <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.smartMultipartForward}" required="true"/>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.srcSmeSeparateRouting}">
      <h:selectBooleanCheckbox style="margin-left:15px"  value="#{smscConfig.commonConfig.srcSmeSeparateRouting}"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.schedulerSoftLimit}">
      <tr:inputText value="#{smscConfig.commonConfig.schedulerSoftLimit}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>
    <tr:panelLabelAndMessage label="#{commonSettings.schedulerHardLimit}">
      <tr:inputText value="#{smscConfig.commonConfig.schedulerHardLimit}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>
  </tr:panelFormLayout>
</mo:collapsing_group>


<mo:collapsing_group name="#{msg['sms.label']}">
  <tr:panelFormLayout id="sms_props" partialTriggers=":saveAll">
    <tr:panelLabelAndMessage label="#{commonSettings.smsMaxValidTime}">
      <tr:inputText value="#{smscConfig.commonConfig.smsMaxValidTime}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>
  </tr:panelFormLayout>
</mo:collapsing_group>


<mo:collapsing_group name="#{msg['map.label']}">
  <tr:panelFormLayout id="map_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.mapBusyMTDelay}">
      <tr:inputText value="#{smscConfig.commonConfig.mapBusyMTDelay}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mapLockedByMODelay}">
      <tr:inputText value="#{smscConfig.commonConfig.mapLockedByMODelay}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mapMOLockTimeout}">
      <tr:inputText value="#{smscConfig.commonConfig.mapMOLockTimeout}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mapAllowCallBarred}">
      <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mapAllowCallBarred}" />
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mapUssdV1Enabled}">
      <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mapUssdV1Enabled}" />
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mapUssdV1UseOrigEntityNumber}">
      <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mapUssdV1UseOrigEntityNumber}" />
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mapIOTasksCount}">
      <tr:inputText value="#{smscConfig.commonConfig.mapIOTasksCount}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>
  </tr:panelFormLayout>
</mo:collapsing_group>

<mo:collapsing_group name="#{msg['trafficControl.label']}">
  <tr:panelFormLayout id="tc_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.trafficShapeTimeFrame}">
      <tr:inputText value="#{smscConfig.commonConfig.trafficShapeTimeFrame}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.trafficStatTimeFrame}">
      <tr:inputText value="#{smscConfig.commonConfig.trafficStatTimeFrame}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>
  </tr:panelFormLayout>
</mo:collapsing_group>


<mo:collapsing_group name="#{msg['messagestore.label']}">
  <tr:panelFormLayout id="ms_props" partialTriggers=":saveAll">
    <tr:panelLabelAndMessage label="#{commonSettings.msArchiveInterval}">
      <tr:inputText value="#{smscConfig.commonConfig.msArchiveInterval}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>
  </tr:panelFormLayout>
  <mo:collapsing_group name="#{msg['messagestore.localstore.label']}">
    <tr:panelFormLayout>
      <tr:panelLabelAndMessage label="#{commonSettings.lsMaxStoreSize}">
        <tr:inputText value="#{smscConfig.commonConfig.lsMaxStoreSize}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>
      <tr:panelLabelAndMessage label="#{commonSettings.lsMinRollTime}">
        <tr:inputText value="#{smscConfig.commonConfig.lsMinRollTime}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>
    </tr:panelFormLayout>
  </mo:collapsing_group>
</mo:collapsing_group>



<mo:collapsing_group name="#{msg['smpp.label']}">
  <tr:panelFormLayout id="smpp_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.smppReadTimeout}">
      <tr:inputText value="#{smscConfig.commonConfig.smppReadTimeout}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.smppInactivityTime}">
      <tr:inputText value="#{smscConfig.commonConfig.smppInactivityTime}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.smppInactivityTimeOut}">
      <tr:inputText value="#{smscConfig.commonConfig.smppInactivityTimeOut}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.smppBindTimeout}">
      <tr:inputText value="#{smscConfig.commonConfig.smppBindTimeout}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.smppDefaultConnectionsLimit}">
      <tr:inputText value="#{smscConfig.commonConfig.smppDefaultConnectionsLimit}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

  </tr:panelFormLayout>

</mo:collapsing_group>




<mo:collapsing_group name="#{msg['profiler.label']}">
  <tr:panelFormLayout id="profiler_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.profilerSystemId}">
      <tr:inputText value="#{smscConfig.commonConfig.profilerSystemId}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.profilerServiceType}">
      <tr:inputText value="#{smscConfig.commonConfig.profilerServiceType}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.profilerStoreFile}">
      <tr:inputText value="#{smscConfig.commonConfig.profilerStoreFile}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.profilerProtocolId}">
      <tr:inputText value="#{smscConfig.commonConfig.profilerProtocolId}" required="true" >
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>


  </tr:panelFormLayout>

  <mo:collapsing_group name="#{msg['profiler.ussdOpsMapping.label']}">
    <tr:panelFormLayout>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerReportNone}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerReportNone}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerReportFull}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerReportFull}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerReportFinal}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerReportFinal}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerLocaleRU}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerLocaleRU}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerLocaleEN}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerLocaleEN}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDefault}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDefault}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerUCS2}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerUCS2}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerHide}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerHide}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerUnhide}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerUnhide}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerUSSD7BitOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerUSSD7BitOn}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerUSSD7BitOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerUSSD7BitOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertOn}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertAbsentOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertAbsentOn}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>
      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertAbsentOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertAbsentOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertBlockedOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertBlockedOn}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertBlockedOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertBlockedOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertBarredOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertBarredOn}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertBarredOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertBarredOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertCapacityOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertCapacityOn}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertCapacityOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertCapacityOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertStatus}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertStatus}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerDivertTo}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerDivertTo}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerConcatOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerConcatOn}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerConcatOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerConcatOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerTranslitOn}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerTranslitOn}" required="true" >
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>

      <tr:panelLabelAndMessage label="#{commonSettings.profilerTranslitOff}">
        <tr:inputText value="#{smscConfig.commonConfig.profilerTranslitOff}"  required="true">
          <tr:validateLongRange minimum="1"/>
        </tr:inputText>
      </tr:panelLabelAndMessage>


    </tr:panelFormLayout>
  </mo:collapsing_group>
</mo:collapsing_group>


<mo:collapsing_group name="#{msg['abonentinfo.label']}">
  <tr:panelFormLayout id="ab_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.abInfoSystemId}">
      <tr:inputText value="#{smscConfig.commonConfig.abInfoSystemId}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.abInfoServiceType}">
      <tr:inputText value="#{smscConfig.commonConfig.abInfoServiceType}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.abInfoMobileAccessAddress}">
      <tr:inputText value="#{smscConfig.commonConfig.abInfoMobileAccessAddress}" required="true"/>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.abInfoProtocolId}">
      <tr:inputText value="#{smscConfig.commonConfig.abInfoProtocolId}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.abInfoSmppAccessAddress}">
      <tr:inputText value="#{smscConfig.commonConfig.abInfoSmppAccessAddress}" required="true"/>
    </tr:panelLabelAndMessage>

  </tr:panelFormLayout>
</mo:collapsing_group>



<mo:collapsing_group name="#{msg['mscmanager.label']}">
  <tr:panelFormLayout id="msc_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.mscAutomaticRegistration}">
      <h:selectBooleanCheckbox style="margin-left:15px" value="#{smscConfig.commonConfig.mscAutomaticRegistration}" />
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mscFailureLimit}">
      <tr:inputText value="#{smscConfig.commonConfig.mscFailureLimit}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.mscStoreFile}">
      <tr:inputText value="#{smscConfig.commonConfig.mscStoreFile}" required="true"/>
    </tr:panelLabelAndMessage>

    <tr:panelLabelAndMessage label="#{commonSettings.mscSingleAttemptTimeout}">
      <tr:inputText value="#{smscConfig.commonConfig.mscSingleAttemptTimeout}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

  </tr:panelFormLayout>
</mo:collapsing_group>

<mo:collapsing_group name="#{msg['acl.label']}">
  <tr:panelFormLayout id="acl_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.aclStoreDir}">
      <tr:inputText value="#{smscConfig.commonConfig.aclStoreDir}" required="true"/>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.aclPreCreateSize}">
      <tr:inputText value="#{smscConfig.commonConfig.aclPreCreateSize}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

  </tr:panelFormLayout>
</mo:collapsing_group>


<mo:collapsing_group name="#{msg['inman.label']}">
  <tr:panelFormLayout id="inman_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.inmanHost}">
      <tr:inputText value="#{smscConfig.commonConfig.inmanHost}" required="true"/>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.inmanPort}">
      <tr:inputText value="#{smscConfig.commonConfig.inmanPort}"  required="true">
        <tr:validateLongRange minimum="1" maximum="65534"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

  </tr:panelFormLayout>

  <mo:collapsing_group name="#{msg['inman.chargingPolicy.label']}">
    <tr:panelFormLayout>
      <tr:panelLabelAndMessage label="#{commonSettings.inmanChargingPeer2peer}">
        <tr:inputText value="#{smscConfig.commonConfig.inmanChargingPeer2peer}" required="true"/>
      </tr:panelLabelAndMessage>
      <tr:panelLabelAndMessage label="#{commonSettings.inmanChargingOther}">
        <tr:inputText value="#{smscConfig.commonConfig.inmanChargingOther}" required="true"/>
      </tr:panelLabelAndMessage>
    </tr:panelFormLayout>
  </mo:collapsing_group>
</mo:collapsing_group>


<mo:collapsing_group name="#{msg['aliasman.label']}">
  <tr:panelFormLayout id="alias_props" partialTriggers=":saveAll">
    <tr:panelLabelAndMessage label="#{commonSettings.aliasStoreFile}">
      <tr:inputText value="#{smscConfig.commonConfig.aliasStoreFile}" required="true"/>
    </tr:panelLabelAndMessage>
  </tr:panelFormLayout>
</mo:collapsing_group>

<mo:collapsing_group name="#{msg['snmp.label']}">
  <tr:panelFormLayout id="snmp_props" partialTriggers=":saveAll">

    <tr:panelLabelAndMessage label="#{commonSettings.snmpCsvFileDir}">
      <tr:inputText value="#{smscConfig.commonConfig.snmpCsvFileDir}" required="true"/>
    </tr:panelLabelAndMessage>


    <tr:panelLabelAndMessage label="#{commonSettings.snmpCsvFileRollInterval}">
      <tr:inputText value="#{smscConfig.commonConfig.snmpCsvFileRollInterval}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>
    <tr:panelLabelAndMessage label="#{commonSettings.snmpCacheTimeout}">
      <tr:inputText value="#{smscConfig.commonConfig.snmpCacheTimeout}"  required="true">
        <tr:validateLongRange minimum="1"/>
      </tr:inputText>
    </tr:panelLabelAndMessage>

  </tr:panelFormLayout>
</mo:collapsing_group>

<mo:collapsing_group name="#{msg['directives.label']}">
  <tr:panelGroupLayout id="directives" partialTriggers="addDirective iter_dir:removeDir :saveAll">
    <tr:iterator id="iter_dir" value="#{smscConfig.commonConfig.directives}" var="ent" varStatus="dirIndex">
      <h:panelGrid columns="3" style="width:0">
        <tr:panelLabelAndMessage>
          <tr:inputText value="#{ent.key}"/>
        </tr:panelLabelAndMessage>
        <tr:panelLabelAndMessage>
          <tr:inputText value="#{ent.value}"/>
        </tr:panelLabelAndMessage>
        <tr:commandLink  partialSubmit="true" actionListener="#{smscConfig.removeDirective}" id="removeDir">
          <f:param name="removeDirective" value="#{dirIndex.index}"/>
          <tr:image source="/images/but_del.gif"/>
        </tr:commandLink>
      </h:panelGrid>
    </tr:iterator>
    <h:panelGrid columns="3" style="width:0">
      <tr:panelLabelAndMessage>
        <tr:inputText value="#{smscConfig.newDirective.key}"/>
      </tr:panelLabelAndMessage>
      <tr:panelLabelAndMessage>
        <tr:inputText value="#{smscConfig.newDirective.value}"/>
      </tr:panelLabelAndMessage>
      <tr:commandLink id="addDirective" partialSubmit="true" actionListener="#{smscConfig.addDirective}">
        <tr:image source="/images/but_add.gif"/>
      </tr:commandLink>
    </h:panelGrid>
  </tr:panelGroupLayout>
</mo:collapsing_group>


</td>
<td width="50%" valign="top">

  <t:div styleClass="page_subtitle">
    <tr:outputText value="#{msg['instances.settings.title']}"/>
  </t:div>


  <h:dataTable value="#{smscConfig.instanceConfigs}" var="var" border="0">
    <h:column>
      <mo:collapsing_group name="#{msg['instance.number.label']}: #{var.instanceNumber}">

        <mo:collapsing_group name="#{msg['core.label']}">
          <tr:panelFormLayout id="inst_core_props_#{var.instanceNumber}" partialTriggers=":saveAll">

            <tr:panelLabelAndMessage label="#{instanceSettings.adminHost}">
              <tr:inputText value="#{var.adminHost}" required="true"/>
            </tr:panelLabelAndMessage>

            <tr:panelLabelAndMessage label="#{instanceSettings.adminPort}">
              <tr:inputText value="#{var.adminPort}"  required="true">
                <tr:validateLongRange minimum="1" maximum="65534" />
              </tr:inputText>
            </tr:panelLabelAndMessage>

          </tr:panelFormLayout>

          <mo:collapsing_group name="#{msg['core.performance.label']}">
            <tr:panelFormLayout>

              <tr:panelLabelAndMessage label="#{instanceSettings.corePerfHost}">
                <tr:inputText  value="#{var.corePerfHost}"  required="true"/>
              </tr:panelLabelAndMessage>

              <tr:panelLabelAndMessage label="#{instanceSettings.corePerfPort}">
                <tr:inputText  value="#{var.corePerfPort}"  required="true">
                  <tr:validateLongRange minimum="1" maximum="65534" />
                </tr:inputText>
              </tr:panelLabelAndMessage>

            </tr:panelFormLayout>
          </mo:collapsing_group>

        </mo:collapsing_group>


        <mo:collapsing_group name="#{msg['smeperformance.label']}">

          <tr:panelFormLayout id="inst_smeperf_props_#{var.instanceNumber}" partialTriggers=":saveAll">
            <tr:panelLabelAndMessage label="#{instanceSettings.smePerfHost}">
              <tr:inputText  value="#{var.smePerfHost}"  required="true"/>
            </tr:panelLabelAndMessage>

            <tr:panelLabelAndMessage label="#{instanceSettings.smePerfPort}">
              <tr:inputText  value="#{var.smePerfPort}" required="true" >
                <tr:validateLongRange minimum="1"  maximum="65534"/>
              </tr:inputText>
            </tr:panelLabelAndMessage>

          </tr:panelFormLayout>
        </mo:collapsing_group>

        <mo:collapsing_group name="#{msg['messagestore.label']}">

          <tr:panelFormLayout id="inst_ms_props_#{var.instanceNumber}" partialTriggers=":saveAll">
            <tr:panelLabelAndMessage label="#{instanceSettings.messageStoreArchDir}">
              <tr:inputText  value="#{var.messageStoreArchDir}" required="true" />
            </tr:panelLabelAndMessage>

            <tr:panelLabelAndMessage label="#{instanceSettings.messageStoreStatsDir}">
              <tr:inputText  value="#{var.messageStoreStatsDir}" required="true"/>
            </tr:panelLabelAndMessage>

          </tr:panelFormLayout>

          <mo:collapsing_group name="#{msg['messagestore.localstore.label']}">

            <tr:panelFormLayout>
              <tr:panelLabelAndMessage label="#{instanceSettings.localStoreFilename}">
                <tr:inputText  value="#{var.localStoreFilename}" required="true"/>
              </tr:panelLabelAndMessage>

              <tr:panelLabelAndMessage label="#{instanceSettings.localStoreMessIdFile}">
                <tr:inputText  value="#{var.localStoreMessIdFile}" required="true" />
              </tr:panelLabelAndMessage>

            </tr:panelFormLayout>

          </mo:collapsing_group>
        </mo:collapsing_group>

        <mo:collapsing_group name="#{msg['smpp.label']}">
          <tr:panelFormLayout id="inst_smpp_props_#{var.instanceNumber}" partialTriggers=":saveAll">

            <tr:panelLabelAndMessage label="#{instanceSettings.smppHost}">
              <tr:inputText  value="#{var.smppHost}" required="true"/>
            </tr:panelLabelAndMessage>

            <tr:panelLabelAndMessage label="#{instanceSettings.smppPort}">
              <tr:inputText  value="#{var.smppPort}"  required="true">
                <tr:validateLongRange minimum="1" maximum="65534"/>
              </tr:inputText>
            </tr:panelLabelAndMessage>
          </tr:panelFormLayout>

        </mo:collapsing_group>

        <mo:collapsing_group name="#{msg['profiler.label']}">
          <tr:panelFormLayout id="inst_profiler_props_#{var.instanceNumber}" partialTriggers=":saveAll">

            <tr:panelLabelAndMessage label="#{instanceSettings.agentHost}">
              <tr:inputText  value="#{var.agentHost}" required="true"/>
            </tr:panelLabelAndMessage>

            <tr:panelLabelAndMessage label="#{instanceSettings.agentPort}">
              <tr:inputText  value="#{var.agentPort}" required="true" >
                <tr:validateLongRange minimum="1" maximum="65534"/>
              </tr:inputText>
            </tr:panelLabelAndMessage>

            <tr:panelLabelAndMessage label="#{instanceSettings.cacheDir}">
              <tr:inputText  value="#{var.cacheDir}" required="true"/>
            </tr:panelLabelAndMessage>
          </tr:panelFormLayout>

        </mo:collapsing_group>
      </mo:collapsing_group>
    </h:column>
  </h:dataTable>
</td>
</tr>
</table>

<mo:buttons>
  <tr:commandLink text="#{msg['save.button']}" id="saveAll" partialSubmit="true"  actionListener="#{smscConfig.save}"
                  inlineStyle="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: x-small;"
      />

  <h:outputText value=" | "/>
  <tr:commandLink text="#{msg['cancel.button']}" immediate="true" action="INDEX"
                  inlineStyle="font-family: Verdana, Arial, Helvetica, sans-serif;font-size: x-small;"/>
</mo:buttons>


</tr:form>


</ui:define>

</ui:composition>


</html>
