<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:tr="http://myfaces.apache.org/trinidad"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:eye="http://taglib.eyeline.mobi">

<ui:composition template="/templates/main.xhtml">

  <ui:define name="sme_title">
    <eye:pageTitle title="#{msg['smsc.title']}"/>
  </ui:define>

  <ui:define name="content">

    <h:form>
      <eye:dataTable value="#{smscStatus.smsCenters}" pageSize="100" data="onlineHost">

        <eye:column name="connected" title="" sortable="false" width="5%" >
          <h:graphicImage value="/images/ic_internal.gif" rendered="#{onlineHost != null}"/>
          <h:graphicImage value="/images/ic_disconnct.gif" rendered="#{onlineHost == null}"/>
        </eye:column>

        <eye:column name="instanceNumber" title="#{msg['status.page.instance.number']}" width="25%">
          <h:outputText value="#{rowId}"/>
        </eye:column>

        <eye:column name="onlineHost" title="#{msg['status.page.online.host']}" width="25%" >
          <h:outputText value="#{onlineHost}" style="color:GREEN"/>
        </eye:column>

        <eye:column name="status" title="#{msg['status.page.status']}" width="25%">
          <h:outputText value="OK" style="color:GREEN"/>
        </eye:column>

        <eye:column name="connected" title="#{msg['status.page.action']}" var="connected">

          <h:commandLink value="#{msg['status.page.start']}" action="#{smscStatus.start}"
                         rendered="#{onlineHost == null}">
            <f:param name="instanceNumber" value="#{rowId}"/>
          </h:commandLink>

          <h:commandLink value="#{msg['status.page.stop']}" action="#{smscStatus.stop}"
                         rendered="#{onlineHost != null}">
            <f:param name="instanceNumber" value="#{rowId}"/>
          </h:commandLink>

        </eye:column>

      </eye:dataTable>

      <eye:buttons>
        <eye:button><h:commandLink value="#{msg['status.page.start.all']}"
                                   actionListener="#{smscStatus.startAll}"/></eye:button>
        <eye:button><h:commandLink value="#{msg['status.page.stop.all']}"
                                   actionListener="#{smscStatus.stopAll}"/></eye:button>
        <eye:space/>
      </eye:buttons>
    </h:form>
  </ui:define>

</ui:composition>


</html>
