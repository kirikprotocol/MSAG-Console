<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:eye="http://jsfcomponents.eyeline.mobi"
      xmlns:smsc="http://taglib.smsc.mobi">

<ui:composition template="/templates/main.xhtml">

  <ui:param name="pageTitle" value="#{msg['providers.page.title']}"/>

  <ui:define name="styles">
    .column1 {width: 20px; text-align: left;}
    .column2 {width: 200px; text-align: left;}
    .column3 {width: 100%; text-align: left;}
  </ui:define>

  <ui:define name="content">

    <h:form rendered="#{!providers.initError}">

      <h:inputHidden value="#{providers.revision}"/>
      <h:panelGrid style="padding-bottom: 5px" rendered="#{providers.settingsChanged}">
        <eye:message level="warn"><h:outputText value="#{msg['smsc.submit.hint']}"/></eye:message>
      </h:panelGrid>

      <eye:buttons>
        <eye:button><smsc:submitButton bean="#{providers}" action="submit"/></eye:button>
        <eye:button><smsc:resetButton bean="#{providers}" action="reset"/></eye:button>
        <eye:space/>
      </eye:buttons>

      <c:set var="row" value="0"/>
      <h:panelGrid columns="3" columnClasses="column1, column2, column3" rowClasses="listTableRow0,listTableRow1">
        <h:outputText value="Id"/>
        <h:outputText value="#{msg['providers.page.provider']}"/>
        <h:outputText value="&#160;"/>

        <c:forEach items="#{providers.providers}" var="p">
          <h:outputText value="#{p.id}"/>
          <eye:inputText value="#{p.name}"/>
          <h:outputText value="&#160;"/>
          <c:set var="row" value="#{row+1}"/>
        </c:forEach>

      </h:panelGrid>

      <p/>

      <smsc:pageSubtitle value="#{msg['providers.page.add']}"/>

      <h:panelGrid columns="3" columnClasses="column1, column2, column3" rowClasses="listTableRow0">
        <h:outputText value="&#160;"/>
        <eye:inputText value="#{providers.newProvider}" />
        <h:commandLink action="#{providers.addProvider}">
          <h:graphicImage value="/images/but_add.gif" style=" margin-top:1px; position:relative;"/>
        </h:commandLink>
      </h:panelGrid>

      <eye:buttons>
        <eye:button><smsc:submitButton bean="#{providers}" action="submit"/></eye:button>
        <eye:button><smsc:resetButton bean="#{providers}" action="reset"/></eye:button>
        <eye:space/>
      </eye:buttons>

    </h:form>

  </ui:define>

</ui:composition>


</html>