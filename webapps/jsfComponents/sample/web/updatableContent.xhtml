<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:eye="http://taglib.eyeline.mobi" xmlns:ui="http://java.sun.com/jsf/facelets">


  <ui:composition template="/main.xhtml">

    <ui:define name="scripts" >
      $(function() {
        $("#manualUpdateButton").click(function(){
          $("#mycontent").trigger("updateContent");
          return false;
        })
      });
    </ui:define>

    <ui:define name="styles">
      #mycontent { border: solid GREEN }
      .column1 {width: 200px;}
      .column2 {width: 100%; text-align: left;}
    </ui:define>

    <ui:define name="content">

      <h:form>

        <h:panelGrid columns="2" columnClasses="column1, column2">
          <eye:updatableContent id="mycontent" updatePeriod="#{updatable.updatePeriod}" enabled="#{updatable.updatePeriod > 0}">
            <h:outputText style="font-weight: bold;" value="#{updatable.date}"/>
          </eye:updatableContent>
          <a id="manualUpdateButton" href="#">Обновить вручную</a>
        </h:panelGrid>

        <p/>

        <h:inputText value="#{updatable.updatePeriod}"/>
        <h:commandButton value="Задать период обновления (0 - выкл автообновление)"/>
      </h:form>

    </ui:define>
  </ui:composition>

</f:view>
